<app-header [page]="'start'" [showNoCredits]="showAll=='my_trainings'"></app-header>
<main class="selectMain">
    <div *ngIf="!auth.userInfo.isConfirmed&&auth.userInfo.email">
        <ion-card style="font-size:18px" basicPadding>
            {{ 'start.unconfirmed' | translate }}
        </ion-card>
    </div>
    
    <div *ngIf="auth.userInfo.isConfirmed&&auth.userInfo.email">


        <div *ngIf="showFilterSmall" class="filterSmallTitle">
            <div basicPadding>
                <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                    <span>{{'filter.title' | translate}}</span>
                    <span class="spacer"></span>
                    <fa-icon [icon]="icon.get('faTimes')" (click)="clearFilter()" *ngIf="!filterIsEmpty"></fa-icon>
                    <fa-icon titleIcon [icon]="icon.get('faChevronUp')" (click)="showFilterSmall = !showFilterSmall"></fa-icon>    
                </ion-card-title>
            </div> 
        </div>
        <div *ngIf="showFilterSmall" class="filterSmall">

            <!-- <div *ngIf="showAll=='cases'" marginBottom>
                <div>
                    <ion-row>
                        <ion-col size="6">
                            <ion-card pointer borderRadius24 noMargin basicPadding id="btn_search_case" center (click)="nav.go('start/cases/search');onFiltersChanged();selectedModule={};showFilterSmall=false" [ngClass]="{'activeItem': showAll=='cases' && !showCreateSelf,'notActiveItem': showAll!='cases' || showCreateSelf}">
                                <ion-card-title font-18 weight700>
                                    <span>{{'buttons.search_case' | translate}}</span>
                                </ion-card-title>
                            </ion-card>
                        </ion-col>
                        <ion-col size="6">
                            <ion-card pointer borderRadius24 noMargin basicPadding id="btn_create_self" center (click)="nav.go('start/cases/create_self');onFiltersChanged();selectedModule={};showFilterSmall=false" [ngClass]="{'activeItem': showAll=='cases' && showCreateSelf,'notActiveItem': showAll!='cases' || !showCreateSelf}">
                                <ion-card-title font-18 weight700>
                                    <span>{{'buttons.create_self' | translate}}</span>
                                </ion-card-title>
                            </ion-card>
                        </ion-col>
                    </ion-row>
                </div>
            </div> -->

            
            <div *ngFor="let type of infoService.conversation_types">
                <ion-item detail="false" lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="type.selected = !type.selected;onFiltersChanged()">
                    <ion-checkbox mode="md" slot="start" [(ngModel)]="type.selected" noPointerEvents></ion-checkbox>
                    <ion-label>{{ type[translate.currentLang] }}</ion-label>
                </ion-item>
                <div class="innerSelectCase" [ngStyle]="{'max-height': type.selected ? (type.showFull ? '800px' :'300px') : '0px','padding-bottom': type.selected && type.showFull ? '50px' : '0px'}">
                    <ion-item detail="false" lines="none" font-18 weight400 noMargin class="selectCaseItem innerSelectCaseItem" *ngFor="let subject of type.subjects" (click)="subject.selected = !subject.selected;onFiltersChanged()">
                        <ion-checkbox mode="md" slot="start" [(ngModel)]="subject.selected" noPointerEvents></ion-checkbox>
                        <ion-label>{{ subject[translate.currentLang] }}</ion-label>
                    </ion-item>
                    <ion-item detail="false" lines="none" button font-18 weight400 noMargin fullwidth class="selectCaseItem innerSelectCaseItem innerSelectMoreToggle" *ngIf="type.subjects.length>5" (click)="type.showFull = !type.showFull" [ngStyle]="{'top': !type.showFull ? (media.smallDevice ? '220px' : '240px') : 'calc(100% - 50px)'}">
                        <!-- <ion-checkbox slot="start" noPointerEvents></ion-checkbox> -->
                        <ion-label style="margin-left:30px;opacity:0.5" italic text-medium>{{ type.showFull ? 'Toon minder' : 'Toon alles' }}</ion-label>
                        <!-- <fa-icon slot="end" [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': type.showFull ? 'rotate(180deg)' : 'none'}"></fa-icon> -->
                    </ion-item>
                </div>
            </div>

            <div basicPadding *ngIf="showAll=='cases'">
                <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                    <span>{{'filter.levels' | translate}}</span>
                    <span class="spacer"></span>
                    <fa-icon [icon]="icon.get('faTimes')" (click)="clearFiltersLevel()" *ngIf="!filterIsEmptyLevel"></fa-icon>
                </ion-card-title>
            </div> 
            <div *ngIf="showAll=='cases'">
                <div *ngFor="let level of levels">
                    <ion-item detail="false" lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="level.selected = !level.selected;onFiltersChanged()">
                        <ion-checkbox mode="md" slot="start" [(ngModel)]="level.selected" noPointerEvents></ion-checkbox>
                        <ion-label>{{'filter.level' | translate}} {{ level.nr }}</ion-label>
                    </ion-item>
                </div>
            </div>
        </div>

        <ion-grid class="mainGrid">

            <ion-row>


                <app-menu-mobile *ngIf="media.smallDevice"></app-menu-mobile>
                <ion-col *ngIf="media.smallDevice" [size]="12" class="selectColumn" style="padding-bottom:0;">
                    <ion-row noPadding>
                        
                        
                        <ion-row noPadding *ngIf="!showAll">
                            <ion-col size="12">
                                <div style="height:52px;"></div> 
                            </ion-col>
                        </ion-row>
                        
                        <ion-col size="9" *ngIf="(showAll  && showAll!='my_trainings' && showAll!='my_organsation') || (showAll && (showAll=='my_trainings' || showAll=='my_organisation') && (modulesBreadCrumbs.length || selectedModule?.id))"></ion-col>

                        <ion-col size="3" noPadding *ngIf="showAll  && showAll!='my_trainings' && showAll!='my_organisation'">
                            <ion-card pointer noMargin style="padding:12px" center id="btn_filter" (click)="showFilterSmall = !showFilterSmall">
                                <ion-card-title font-18 weight700 >
                                    <fa-icon text-secondary [icon]="icon.get('faFilter')"></fa-icon>
                                </ion-card-title>
                            </ion-card>
                        </ion-col>

                        <ion-col size="3" noPadding *ngIf="showAll && (showAll=='my_trainings' || showAll=='my_organisation') && (modulesBreadCrumbs.length || selectedModule?.id)">
                            <ion-card pointer noMargin style="padding:12px" center (click)="trainingItem?.type=='infoItem' ? readInfoItem(showAll=='my_organisation') : backBreadCrumbs()">
                                <ion-card-title font-20 weight700 >
                                    <fa-icon text-secondary [icon]="icon.get('faArrowLeft')"></fa-icon>
                                </ion-card-title>
                            </ion-card>
                        </ion-col>

                    </ion-row>
                    
                    <ion-row noPadding *ngIf="showAll && (showAll=='my_trainings' || showAll=='my_organisation') && !selectedModule?.id &&!trainingItem">
                        <ion-col size="12">
                            <div style="height:50px;"></div> 
                        </ion-col>
                    </ion-row>

                    <ion-row noPadding *ngIf="showAll && !selectedModule?.id &&!trainingItem">
                        <ion-col size="12">
                            <ion-card noMargin flex fullwidth center-ver style="padding:5px 10px;margin-top:5px!important">
                                <ion-searchbar (ionInput)="onSearchChanged()" [(ngModel)]="searchTerm" placeholder="Zoeken" fullwidth [ngStyle]="{'background' : media.smallDevice ? 'white' : 'initial','--background' : media.smallDevice ? 'white' : 'initial'}"></ion-searchbar>
                        </ion-card>
                        </ion-col>
                    </ion-row>

                </ion-col>

                <ion-col *ngIf="!media.smallDevice" [size]="3" class="selectColumn" style="margin-top:15px">
        
                    <div style="background:white;padding:10px 0px;border-radius:16px;margin-top:15px" marginBottom *ngIf="auth.activeCourses?.length && selectedModule?.trainer">
                        <div fullwidth style="height:100px">
                            <img [src]="selectedModule?.trainer.logo" style="width:100%;height:100%;border-radius:16px;object-fit:contain;">
                        </div> 
                    </div>

                    <div style="background:white;padding:10px 0px;border-radius:16px;margin-top:15px" marginBottom *ngIf="showAll=='my_organisation' && (modulesBreadCrumbs.length || selectedModule?.id)">
                        <div fullwidth style="height:100px">
                            <img *ngIf="auth.mySelectedOrganisation.logo" [src]="auth.mySelectedOrganisation.logo" style="width:100%;height:100%;border-radius:16px;object-fit:contain;">
                            <div *ngIf="!auth.mySelectedOrganisation.logo" font-30 flex center-ver center-hor fullheight weight700 uppercase>
                                {{auth.mySelectedOrganisation.name}}
                            </div> 
                        </div>
                    </div>

                    <div style="padding:10px 0px;border-radius:16px" marginBottom *ngIf="(showAll=='my_trainings' || showAll=='my_organisation') && (modulesBreadCrumbs.length || selectedModule?.id) && !trainingItem?.id" class="notActiveItem">
                        <ion-item detail="false" lines="none" button (click)="backBreadCrumbs()" class="itemButton">
                        <div font-20 weight700>{{'buttons.back' | translate}}</div>
                        <fa-icon font-24 slot="end" [icon]="icon.get('faLevelUp')"></fa-icon>
                        </ion-item>
                    </div>

                    <div style="padding:10px 0px;border-radius:16px" *ngIf="!trainingItem" id="btn_dashboard" [ngClass]="{'activeItem': showAll=='','notActiveItem': showAll}">

                        <ion-item detail="false" lines="none" button (click)="nav.go('start');setupProgressCircles()" class="itemButton">
                            <div font-20 weight700>{{'buttons.dashboard' | translate}}</div>
                            <fa-icon font-24 slot="end" [icon]="icon.get('faHome')"></fa-icon>
                        </ion-item>

                    </div>

                    <div style="padding:10px 0px;border-radius:16px" *ngIf="(showAll=='my_trainings' || showAll=='my_organisation') && trainingItem" class="notActiveItem">
                        <ion-item detail="false" lines="none" button (click)="readInfoItem(showAll=='my_organisation')" class="itemButton">
                        <div font-20 weight700>{{'buttons.back' | translate}}</div>
                        <fa-icon font-24 slot="end" [icon]="icon.get('faArrowLeft')"></fa-icon>
                        </ion-item>
                    </div>

                    <div [id]="'btn_search_case_'+pathname" *ngIf="!selectedModule?.id" style="padding:10px 0px;border-radius:16px;margin-top:15px" [ngClass]="{'activeItem': showAll=='cases' && !showCreateSelf,'notActiveItem': showAll!='cases' || showCreateSelf}">
                        <ion-item detail="false" lines="none" button (click)="nav.go('start/cases/search');onFiltersChanged();selectedModule={}" class="itemButton" id="tutorial_step2">
                            <div font-20 weight700>{{'buttons.search_case' | translate}}</div>
                            <fa-icon font-24 slot="end" [icon]="icon.get('faSearch')"></fa-icon>
                        </ion-item>
                    </div>

                    <div [id]="'btn_create_self_'+pathname" *ngIf="!selectedModule?.id" style="padding:10px 0px;border-radius:16px;margin-top:15px" [ngClass]="{'activeItem': showAll=='cases' && showCreateSelf,'notActiveItem': showAll!='cases' || !showCreateSelf}">
                        <ion-item detail="false" lines="none" button (click)="nav.go('start/cases/create_self');onFiltersChanged();selectedModule={}" class="itemButton">
                            <div font-20 weight700>{{'buttons.create_self' | translate}}</div>
                            <fa-icon font-24 slot="end" [icon]="icon.get('faLightbulb')"></fa-icon>
                        </ion-item>
                    </div>

                    <div [id]="'btn_my_trainings_'+pathname" style="padding:10px 0px;border-radius:16px;margin-top:15px" *ngIf="auth.activeCourses?.length && (!trainingItem?.id) && (!selectedModule?.id)" [ngClass]="{'activeItem': showAll=='my_trainings','notActiveItem': showAll!='my_trainings'}">
                        <ion-item detail="false" lines="none" button (click)="nav.go('start/my_trainings/');onFiltersChanged();selectedModule={}" class="itemButton">
                            <div font-20 weight700>{{'buttons.your_trainings' | translate}}</div>
                            <fa-icon font-24 slot="end" [icon]="icon.get('faGraduationCap')"></fa-icon>
                        </ion-item>
                    </div>

                    <div [id]="'btn_my_organisation_'+pathname" style="padding:10px 0px;border-radius:16px;margin-top:15px" *ngIf="auth.myOrganisationsList?.length && auth.mySelectedOrganisation && (!selectedModule?.id)" [ngClass]="{'activeItem': showAll=='my_organisation','notActiveItem': showAll!='my_organisation'}">
                        <ion-item detail="false" lines="none" button (click)="gotoOrganisation()" class="itemButton">
                            <!-- <div font-20 weight700>{{'buttons.my_organisation' | translate}}</div> -->
                            <div font-20 weight700>{{auth.mySelectedOrganisation.name}}</div>
                            <ion-thumbnail slot="end" *ngIf="auth.mySelectedOrganisation.logo" noMargin flex center-ver center-hor borderRadius16 style="background:white;">
                                <img [src]="auth.mySelectedOrganisation.logo" style="width:40px;height:40px;border-radius:0;object-fit:contain;">
                            </ion-thumbnail>
                            <fa-icon font-24 slot="end" *ngIf="!auth.mySelectedOrganisation.logo" [icon]="icon.get('faGripHorizontal')"></fa-icon>
                            <fa-icon font-24 slot="end" *ngIf="auth.myOrganisationsList.length>1" [icon]="icon.get('faChevronDown')" (click)="selectOrganisation($event)"></fa-icon>
                        </ion-item>
                    </div>

                    <div [id]="'btn_account_'+pathname" style="padding:10px 0px;border-radius:16px;margin-top:15px" class="notActiveItem" *ngIf="!showAll">

                        <ion-item detail="false" lines="none" button (click)="nav.go('account/basics')" class="itemButton">
                        <div font-20 weight700>{{'buttons.account' | translate}}</div>
                        <fa-icon font-24 slot="end" [icon]="icon.get('faUser')"></fa-icon>
                        </ion-item>

                    </div>


                    <div style="background:white;padding:10px 0px;border-radius:16px;margin:15px 0px;" *ngIf="showAll && showAll!='my_trainings' && showAll!='my_organisation'">

                        <ion-item detail="false" lines="none" button class="itemButton" style="--background-hover:none;--padding-start:0;--padding-end:0" >
                            <ion-searchbar (ionInput)="onSearchChanged()" [(ngModel)]="searchTerm" placeholder="Zoeken" fullwidth [ngStyle]="{'--background' : 'white'}"></ion-searchbar>
                        </ion-item>
            
                    </div>


                    <div *ngIf="showAll && showAll!='my_trainings' && showAll!='my_organisation'" id="btn_filter" style="background:white;padding:10px 0px;border-radius:16px" marginBottom>
                        <div basicPadding pointer (click)="showFilter=!showFilter">
                            <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                                <span>{{'buttons.filter' | translate}}</span>
                                <fa-icon titleIcon [icon]="icon.get('faExclamationTriangle')" text-warning style="min-width:30px" font-20 pointer *ngIf="!filterIsEmpty&&!showFilter"></fa-icon>
                                <span class="spacer"></span>
                                <ion-icon titleIcon name="close" style="min-width:30px" font-20 pointer (click)="clearFilter()" *ngIf="!filterIsEmpty"></ion-icon>
                                <!-- <ion-icon titleIcon name="filter" style="min-width:30px" font-20 pointer *ngIf="filterIsEmpty"></ion-icon> -->
                                <fa-icon titleIcon [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFilter ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;"></fa-icon>
                                
                                
                            </ion-card-title>
                        </div>
                        <div [ngStyle]="{'max-height': showFilter ? '1200px' : '0px','overflow-y':'auto','transition':'all .3s'}">
                            <div *ngFor="let type of infoService.conversation_types | sortBy: -1 : 'order' ">
                                <ion-item detail="false" lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="type.selected = !type.selected;onFiltersChanged()">
                                    <ion-checkbox mode="md" slot="start" [(ngModel)]="type.selected" noPointerEvents></ion-checkbox>
                                    <ion-label>{{ type[translate.currentLang] }}</ion-label>
                                </ion-item>
                                <div class="innerSelectCase" [ngStyle]="{'max-height': type.selected ? (type.showFull ? '800px' :'800px') : '0px','padding-bottom': type.selected  ? '0px' : '0px'}">
                                    <ion-item detail="false" lines="none" font-18 weight400 noMargin class="selectCaseItem innerSelectCaseItem" *ngFor="let subject of type.subjects" (click)="subject.selected = !subject.selected;onFiltersChanged()">
                                        <ion-checkbox mode="md" slot="start" [(ngModel)]="subject.selected" noPointerEvents></ion-checkbox>
                                        <ion-label>{{ subject[translate.currentLang] }}</ion-label>
                                    </ion-item>
                                    <!-- <ion-item detail="false" lines="none" button font-18 weight400 noMargin fullwidth class="selectCaseItem innerSelectCaseItem innerSelectMoreToggle" *ngIf="type.subjects.length>5" (click)="type.showFull = !type.showFull" [ngStyle]="{'top': !type.showFull ? (media.smallDevice ? '220px' : '240px') : 'calc(100% - 50px)'}">
                                        <ion-label style="margin-left:30px;opacity:0.5" italic text-medium>{{ type.showFull ? 'Toon minder' : 'Toon alles' }}</ion-label>
                                    </ion-item> -->
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <div *ngIf="showAll=='cases'" id="btn_filter_levels" style="background:white;padding:10px 0px;border-radius:16px" marginBottom>
                        <div basicPadding pointer (click)="showFilterLevel=!showFilterLevel">
                            <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                                <span>{{'standards.levels' | translate}}</span>
                                <span titleIcon *ngIf="!filterIsEmptyLevel">({{currentFilterLevels}})</span>
                                <span class="spacer"></span>
                                <ion-icon titleIcon name="close" style="min-width:30px" font-20 pointer (click)="clearFiltersLevel()" *ngIf="!filterIsEmptyLevel"></ion-icon>
                                <!-- <ion-icon titleIcon name="filter" style="min-width:30px" font-20 pointer *ngIf="filterIsEmptyLevel"></ion-icon> -->
                                <fa-icon titleIcon [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFilterLevel ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;" ></fa-icon>
                            </ion-card-title>
                        </div>
                        <div [ngStyle]="{'max-height': showFilterLevel ? '1200px' : '0px','overflow':'hidden','transition':'all .3s'}">
                            <div *ngFor="let level of levels">
                                <ion-item detail="false" lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="level.selected = !level.selected;onFiltersChanged()">
                                    <ion-checkbox mode="md" slot="start" [(ngModel)]="level.selected" noPointerEvents></ion-checkbox>
                                    <ion-label>{{'standards.level' | translate}} {{ level.nr }}</ion-label>
                                </ion-item>
                            </div>

                        </div>
                    </div>
                    
                </ion-col>
                
                <ion-content id="mainContent" #mainContent style="--background:none;" [ngStyle]="{'flex':media.smallDevice ? 'none' : 1,'height':media.smallDevice ? (showAll ? 'calc((var(--vh) * 100) - '+((showAll!='my_trainings' && showAll!='my_organisation') || !selectedModule?.id ? '189px' : '125px')+')' : 'calc((var(--vh) * 100) - 128px)') : 'calc((var(--vh) * 100) - 61px)'}" fullwidth>
                    <ion-col [size]="media.smallDevice ? 12 : 9" class="selectColumn" [ngStyle]="{'max-height': !media.smallDevice ? 'calc((var(--vh, 1vh) * 100) - 51px)' : (showAll ? 'calc((var(--vh, 1vh) * 100) - 200px)' : 'calc((var(--vh, 1vh) * 100) - 125px)'),'padding': media.smallDevice ? 0 : 'initial'}">

                        <ion-row *ngIf="showAll=='' && !media.smallDevice">
                            <ion-col size="12">

                                <ion-card fullwidth id="progressCard">
                                    <ion-card-header style="padding:15px">
                                        <ion-card-title font-24 uppercase weight700 text-secondary flex center-ver>
                                            <span>{{'start.your_progress' | translate}}</span>
                                            <div class="spacer"></div>
                                            <fa-icon titleIcon pointer [icon]="icon.get('faInfoCircle')" (click)="modalService.showText(tutorial.getContent('start','onload',1,'text'),tutorial.getContent('start','onload',1,'title'))"></fa-icon>
                                            

                                        </ion-card-title>
                                    </ion-card-header>
                                    <ion-card-content style="padding-bottom:0;">
                                        <div style="display:flex;justify-content:center;" fullwidth>
                                            <ion-row style="height:150px">
                                                <ion-col size="3" [ngClass]="{'tempGrow': showScoreImpact}">
                                                    <circle-progress #progressCircle1 (click)="setupProgressCirclesDelay()"
                                                        [percent]="auth.skills?.impact?.score ? auth.getUserLevelScorePercentage(auth.skills.impact.score) : 0"
                                                        [radius]="50"
                                                        [showSubtitle]="showScoreImpact ? false : true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="'12'"
                                                        [titleFontSize]="'32'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'var(--ion-color-primary)'"
                                                        [units]="'2'"
                                                        [title]="!showScoreImpact ? (auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+'' : (auth.skills?.impact?.score - auth.skills?.impact?.prevScore>=0 ? '+' : '') +(auth.skills?.impact?.score - auth.skills?.impact?.prevScore)"
                                                        [unitsFontSize]="'12'"
                                                        [outerStrokeWidth]="12"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-danger)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                        <div>{{'standards.impact' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                                <ion-col size="3" [ngClass]="{'tempGrow': showScoreFlow}">
                                                    <circle-progress #progressCircle2 (click)="setupProgressCirclesDelay()"
                                                        [percent]="auth.skills?.flow?.score ? auth.getUserLevelScorePercentage(auth.skills.flow.score) : 0"
                                                        [radius]="50"
                                                        [showSubtitle]="showScoreFlow ? false : true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="'12'"
                                                        [titleFontSize]="'32'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'var(--ion-color-primary)'"
                                                        [units]="'2'"
                                                        [title]="!showScoreFlow ? (auth.skills?.flow?.score ? auth.skillsLevel(auth.skills?.flow?.score) : 0)+'' : (auth.skills?.flow?.score - auth.skills?.flow?.prevScore>=0 ? '+' : '') +(auth.skills?.flow?.score - auth.skills?.flow?.prevScore)"
                                                        [unitsFontSize]="'24'"
                                                        [outerStrokeWidth]="12"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-warning)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                        <div>{{'standards.flow' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                                <ion-col size="3" [ngClass]="{'tempGrow': showScoreLogic}">
                                                    <circle-progress #progressCircle3 (click)="setupProgressCirclesDelay()" 
                                                        [percent]="auth.skills?.logic?.score ? auth.getUserLevelScorePercentage(auth.skills.logic.score) : 0"
                                                        [radius]="50"
                                                        [showSubtitle]="showScoreLogic ? false : true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="'12'"
                                                        [titleFontSize]="'32'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'var(--ion-color-primary)'"
                                                        [units]="'2'"
                                                        [title]="(auth.skills?.logic?.score ? auth.skillsLevel(auth.skills?.logic?.score) : 0)+''"
                                                        [title]="!showScoreLogic ? (auth.skills?.logic?.score ? auth.skillsLevel(auth.skills?.logic?.score) : 0)+'' : (auth.skills?.logic?.score - auth.skills?.logic?.prevScore>=0 ? '+' : '') +(auth.skills?.logic?.score - auth.skills?.logic?.prevScore)"
                                                        [unitsFontSize]="'24'"
                                                        [outerStrokeWidth]="12"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-primary)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                        <div>{{'standards.logic' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                                <ion-col size="3" fullheight flex center-ver center-hor>
                                                    <!-- <ion-button class="saveButton" fill="outline" color="medium" (click)="showFlags=!showFlags" style="position:relative;top:-10px; opacity:0.4;"> -->
                                                    <ion-button class="saveButton" fill="outline" color="medium" (click)="modalService.showText(translate.instant('start.achievements_temp'),translate.instant('start.achievements_title'));showFlags==showFlags" style="position:relative;top:-10px; opacity:0.4;">
                                                        <span>{{'buttons.show' | translate}} <span *ngIf="!showFlags">{{'buttons.more' | translate}}</span><span *ngIf="showFlags">{{'buttons.less' | translate}}</span> {{'start.achievements' | translate}}</span>
                                                        <fa-icon titleIcon font-18 [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFlags ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;"></fa-icon>
                                                    </ion-button>
                                                </ion-col>
                                            </ion-row>
                                        </div>
                                        <div fullwidth>
                                            <ion-row >
                                                <ion-col size="12">

                                                    <div [ngStyle]="{'max-height': showFlags ? '800px' : '0px','overflow':'hidden','transition':'all .3s'}">
                                                        <div singleLine marginBottom></div>
                                                        <ion-row>
                                                            <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                                <app-achievement (click)="badge.achieved =!badge.achieved" *ngFor="let badge of badges.badges" [class]="badge.class" [achieved]="badge.achieved" [achievement_icon]="badge.icon" [title]="badge.title" [text]="badge.text"></app-achievement>
                                                            </ion-col>
                                                        </ion-row>
                                                        <!-- <ion-row>
                                                            <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                                <app-achievement [class]="'creative'" [achieved]="true" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'success'" [achieved]="true" achievement_icon="faGraduationCap" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'dark'" [achieved]="true" achievement_icon="faSearch" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                                <app-achievement [class]="'light'" [achieved]="true" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                            </ion-col>
                                                            <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                                <app-achievement [class]="'creative'" [achieved]="false" achievement_icon="faPlus" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                                <app-achievement [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                            </ion-col>
                                                            <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                                <app-achievement [class]="'creative'" [achieved]="false" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                                <app-achievement [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                                <app-achievement [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                                <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                            </ion-col>
                                                        </ion-row> -->
                                                    </div>
                                                </ion-col>
                                            </ion-row>
                                        </div>



                                    </ion-card-content>
                                </ion-card>
                                
                            </ion-col>
                        </ion-row>


                        <ion-row *ngIf="showAll=='' && media.smallDevice">
                            <ion-col size="12">

                                <ion-card fullwidth noMargin id="progressCardMobile">
                                    <ion-card-header style="padding:15px">
                                        <ion-card-title font-24 uppercase weight700 text-secondary flex center-ver>
                                            <span>{{'start.your_progress' | translate}}</span>
                                            <div class="spacer"></div>
                                            <fa-icon titleIcon pointer style="z-index:5" [icon]="icon.get('faInfoCircle')" (click)="modalService.showText(tutorial.getContent('start','onload',1,'text'),tutorial.getContent('start','onload',1,'title'))"></fa-icon>
                                            

                                        </ion-card-title>
                                    </ion-card-header>
                                    <ion-card-content style="padding-bottom:0;">
                                        <div fullwidth>
                                            <ion-row style="height:250px">
                                                <ion-col size="4">
                                                    <circle-progress #progressCircle1Mobile (click)="setupProgressCirclesDelay()"
                                                        [percent]="auth.skills?.impact?.score ? auth.getUserLevelScorePercentage(auth.skills.impact.score) : 0"
                                                        [radius]="media.screenSize=='xs' ? 120 : 60"
                                                        [showSubtitle]="true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="media.screenSize=='xs' ? '36' : '18'"
                                                        [titleFontSize]="media.screenSize=='xs' ? '68' : '36'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'rgba(0,0,255,0.2)'"
                                                        [units]="'Level'"
                                                        [title]="(auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+''"
                                                        [unitsFontSize]="'12'"
                                                        [outerStrokeWidth]="media.screenSize=='xs' ? 28 : 16"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-danger)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                        <div>{{'standards.impact' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                                <ion-col size="4">
                                                    <circle-progress #progressCircle2Mobile (click)="setupProgressCirclesDelay()"
                                                        [percent]="auth.skills?.flow?.score ? auth.getUserLevelScorePercentage(auth.skills.flow.score) : 0"
                                                        [radius]="media.screenSize=='xs' ? 120 : 60"
                                                        [showSubtitle]="true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="media.screenSize=='xs' ? '36' : '18'"
                                                        [titleFontSize]="media.screenSize=='xs' ? '68' : '36'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'rgba(0,0,255,0.2)'"
                                                        [units]="'Level'"
                                                        [title]="(auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+''"
                                                        [unitsFontSize]="'12'"
                                                        [outerStrokeWidth]="media.screenSize=='xs' ? 28 : 16"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-warning)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                    <div>{{'standards.flow' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                                <ion-col size="4">
                                                    <circle-progress #progressCircle3Mobile (click)="setupProgressCirclesDelay()"
                                                        [percent]="auth.skills?.logic?.score ? auth.getUserLevelScorePercentage(auth.skills.logic.score) : 0"
                                                        [radius]="media.screenSize=='xs' ? 120 : 60"
                                                        [showSubtitle]="true"
                                                        [subtitle]="translate.instant('standards.level')"
                                                        [subtitleFontSize]="media.screenSize=='xs' ? '36' : '18'"
                                                        [titleFontSize]="media.screenSize=='xs' ? '68' : '36'"
                                                        [titleFontWeight]="'700'"
                                                        [showUnits]="false"
                                                        [unitsColor]="'rgba(0,0,255,0.2)'"
                                                        [units]="'Level'"
                                                        [title]="(auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+''"
                                                        [unitsFontSize]="'12'"
                                                        [outerStrokeWidth]="media.screenSize=='xs' ? 28 : 16"
                                                        [innerStrokeWidth]="4"
                                                        [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                        [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                        [animation]="true"
                                                        [outerStrokeGradient]="true"
                                                        [outerStrokeGradientStopColor]="'var(--ion-color-primary)'"
                                                        [animateSubtitle]="true"
                                                        [responsive]="true"
                                                    ></circle-progress>
                                                    <div font-24 weight700 center>
                                                    <div>{{'standards.logic' | translate}}</div>
                                                    </div>
                                                </ion-col>
                                            </ion-row>
                                            <ion-row [ngStyle]="{'margin-top': media.screenSize=='xs' ?  '-100px' : '-65px'}">
                                                <ion-col size="12" fullheight flex center-ver center-hor>
                                                    <ion-button class="saveButton" fill="outline" color="medium" (click)="modalService.showText(translate.instant('start.achievements_temp'),translate.instant('start.achievements_title'));showFlags==showFlags" style="position:relative;top:-10px;opacity:0.4;pointer-events:none;">
                                                        <span>{{'buttons.show' | translate}} <span *ngIf="!showFlags">{{'buttons.more' | translate}}</span><span *ngIf="showFlags">{{'buttons.less' | translate}}</span> {{'start.achievements' | translate}}</span>
                                                        <fa-icon titleIcon font-18 [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFlags ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;"></fa-icon>
                                                    </ion-button>
                                                </ion-col>
                                            </ion-row>
                                        </div>
                                        <div fullwidth>
                                            <ion-row >
                                                <ion-col size="12">
                                                    <div [ngStyle]="{'max-height': showFlags ? '2800px' : '0px','overflow':'hidden','transition':'all .3s'}">
                                                        <div singleLine marginBottom></div>
                                                        <div marginBottom>
                                                            <app-achievement-horizontal [class]="'creative'" [achieved]="true" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" [achieved]="true" achievement_icon="faGraduationCap" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'dark'" [achieved]="true" achievement_icon="faSearch" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'light'" [achieved]="true" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'creative'" [achieved]="false" achievement_icon="faPlus" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'creative'" [achieved]="false" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                            <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                            
                                                        </div>
                                                    </div>
                                                </ion-col>
                                            </ion-row>
                                        </div>



                                    </ion-card-content>
                                </ion-card>
                                
                            </ion-col>
                        </ion-row>

                        <ion-row style="padding:0 15px;" [ngStyle]="{'padding':showAll ? 'padding:0px 15px' : 'padding:15px 0px' }" *ngIf="showAll==''">
                            <ion-col size="12" flex center-ver noMargin noPadding>
                                <ion-card noMargin basicPadding fullwidth>
                                    <ion-row>
                                        <ion-col size="6" noPadding>
                                            <ion-card borderRadius16 pointer noMargin basicPadding class="subTab" [ngClass]="{'subTabSelected': subTab!='finishedCases'}" (click)="subTab='yourCases'">
                                                <ion-card-header style="padding: 0px 15px;">
                                                    <ion-card-title font-24 weight700 text-secondary>
                                                        <span>{{'start.your_cases' | translate}}</span>
                                                    </ion-card-title>
                                                </ion-card-header>
                                            </ion-card>
                                        </ion-col>
                                        <ion-col size="6" noPadding>
                                            <ion-card borderRadius16 pointer noMargin basicPadding class="subTab" [ngClass]="{'subTabSelected': subTab=='finishedCases'}" (click)="subTab='finishedCases'">
                                                <ion-card-header style="padding: 0px 15px;">
                                                    <ion-card-title font-24 weight700 text-secondary>
                                                        <span>{{'page_account.your_finished_cases' | translate}}</span>
                                                    </ion-card-title>
                                                </ion-card-header>
                                            </ion-card>
                                        </ion-col>
                                    </ion-row>
                                </ion-card>
                            </ion-col>
                        </ion-row>

                        <ion-row marginBottom id="cases_suggestions" *ngIf="showAll=='' && subTab!='finishedCases'">

                            <ng-container *ngIf="(activeConversations?.length || cases.suggestions.length)&&!media.smallDevice">
                                <ion-col [size]="helper.cardSizeSmall" *ngFor="let activeConversation of activeConversations">
                                    <ion-card pointer fullheight style="border:solid 3px var(--ion-color-primary)">
                                        <ion-card-content noPadding>
                                            <fa-icon removeIcon [icon]="icon.get('faTrashAlt')" font-18 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
                    
                                            <div backgroundImage class="avatarImage" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>
                                                        <div class="continueCaseText">
                                                            {{'start.continue_conversation' | translate}}
                                                        </div>
                                                        <div>
                                                            {{activeConversation.title}}        
                                                        </div>
                                                    </ion-card-title>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor style="margin-top: -10px;">
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="continueConversation(activeConversation)">{{'start.continue_conversation_button' | translate}}</ion-button>
                                            </div>
                                            <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px;text-align:center">
                                                {{'start.started_on' | translate}} {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>
                                <!-- caseSuggestions -->
                                <ion-col [size]="helper.cardSizeSmall"  *ngFor="let caseItem of cases.suggestions | maxLength : (3 - (activeConversations.length > 2 ? 3 : this.activeConversations.length));let i = index;">
                                    <ion-card [id]="'case_card'+i" noPadding pointer fullheight class="'caseItem" (click)="showCaseInfo(caseItem)">
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <div *ngIf="caseItem.avatarName" class="videoAvatarBadge">{{'cases.badge_video' | translate}}</div>
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{caseItem.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <!-- <div style="width:50%;padding:0px 10px">
                
                                                    <div font-16 weight600 text-primary>Level {{caseItem.level}}</div>
                
                                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                                </div> -->

                                                <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(caseItem.level)}" fill="outline" size="small">
                                                    <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(caseItem.level)}">{{caseItem.level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(caseItem.level)}">{{'standards.level' | translate}}</div>
                                                    </div>
                                                </ion-button>
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="auth.credits.total<=0 ? noCredits($event) : startConversation(caseItem,$event)">{{'cases.start_conversation' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                
                                </ion-col>

                            </ng-container>

                            <ng-container *ngIf="(activeConversations?.length || cases.suggestions.length)&&media.smallDevice">
                                <ion-col [size]="helper.cardSizeSmall" *ngFor="let activeConversation of activeConversations">
                                    <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px);border:solid 3px var(--ion-color-primary)" (click)="continueConversation(activeConversation)">
                                        <div style="width:100px;">
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <!-- <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating> -->
                                            
                                        </div>
                                        
                                        <div flex flex-column fullwidth style="height: 135px;">
                                            <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                                <ion-card-title font-18 weight600>
                                                    <div class="continueCaseText">
                                                        {{'start.continue_conversation' | translate}}
                                                    </div>
                                                    <div>
                                                        {{activeConversation.title}}        
                                                    </div>
                                                    <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px">
                                                        {{'start.started_on' | translate}} {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                                    </div>
                                                </ion-card-title>
                                            </ion-card-header>
                                            <span class="spacer"></span>
                                            <div flex center-ver fullwidth class="arrowDiv">
                                                <fa-icon titleIcon [icon]="icon.get('faTrashAlt')" font-24 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
                                                <span class="spacer"></span>
                                                <span font-18 text-secondary weight600 relative style="top:-2px">{{'start.continue_conversation_button' | translate}}</span>
                                                <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                            </div>
                                        </div>
                                    </ion-card>
                                </ion-col>

                                <ion-col [size]="12" *ngFor="let caseItem of cases.suggestions | maxLength : (3 - (activeConversations.length > 2 ? 3 : this.activeConversations.length));let i = index">
                                    <!-- <ion-col [size]="helper.cardSizeSmall" *ngFor="let caseItem of cases.all | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : extraFilters.open_to_user | filterKey : 'level' : currentFilterLevels | filterSearch : searchTerm : false : ['title','tags'];let i = index"> -->
    
                                        <ion-card class="'caseItemSm" [id]="'case_card'+i" noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="auth.credits.total<=0 ? noCredits() : showCaseInfo(caseItem)"><!--" : startConversation(caseItem)">-->
                                            <div style="width:100px;">
                                                <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                                <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                <!-- <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating> -->
                                                
                                            </div>
                                            
                                            <div flex flex-column fullwidth style="height: 135px;">
                                                <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                                    <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                                    <ion-card-subtitle style="text-transform:none" font-14 weight500>{{caseItem.user_info | maxLength : 80 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                                <span class="spacer"></span>
                                                <div flex center-ver fullwidth class="arrowDiv">
                                                    <span class="spacer"></span>
                                                    <span font-18 text-secondary weight600 relative style="top:-2px">{{'cases.start_conversation' | translate}}</span>
                                                    <fa-icon font-24 titleIcon [icon]="icon.get('faArrowRight')"></fa-icon>
                                                </div>
                                            </div>
                                        </ion-card>
                                </ion-col>
                            </ng-container>

                        </ion-row>

                        <ion-row marginBottom id="cases_suggestions" *ngIf="showAll=='' && subTab=='finishedCases'">

                            <ion-col [size]="helper.cardSizeSmall" *ngFor="let conversation of conversations$ | async | sortBy : 1 : 'timestamp' | filterKey : 'closed' : 'notEmpty';let i = index">
                  
                                <ion-card *ngIf="!media.smallDevice" [id]="'case_card'+i" noPadding pointer fullheight class="caseItem">
                                    <ion-card-content noPadding fullHeight>
                                        <div backgroundImage class="avatarImage" *ngIf="conversation.photo" [ngStyle]="{'background-image': 'url(' + conversation.photo + ')'}"></div>
                                        <div backgroundImage class="avatarImage" *ngIf="!conversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                        <div class="shareButtonCase" pointer (click)="media.shareCase(conversation,$event)">
                                            <ion-icon name="share-outline" font-22 *ngIf="this.media.isAppleDevice"></ion-icon>
                                            <ion-icon name="share-social-outline" font-22 *ngIf="!this.media.isAppleDevice"></ion-icon>
                                        </div>
                                        <div class="deleteButtonCase" pointer (click)="deleteConversation($event,conversation)">
                                            <fa-icon font-18 [icon]="icon.get('faTrashAlt')" trash></fa-icon>
                                        </div>
                                        <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                            <ion-card-header>
                                                <ion-card-title font-18 weight600>{{conversation.title}}</ion-card-title>
                                                <ion-card-subtitle font-14 weight400>{{ helper.showLocalDate(conversation.timestamp,translate.instant('date_formats.longDateTime'),0,true) }}</ion-card-subtitle>
                                            </ion-card-header>
                                        </div>
                                        <div center flex center-ver center-hor style="padding:0 10px;">
                                            <ion-button noMargin style="--padding-start:20px!important;--padding-end:20px!important;" class="saveButton cardButton" fill="outline" size="small" (click)="openClosedConversation(conversation,$event)">{{'buttons.watch' | translate}}</ion-button>
                                            <div class="spacer"></div>
                                            <ion-button noMargin style="--padding-start:20px!important;--padding-end:20px!important;" class="saveButton cardButton" fill="outline" size="small" (click)="nextConversation(conversation,$event)">{{'buttons.continue' | translate}}</ion-button>
                                        </div>
                                    </ion-card-content>
                                </ion-card>
                
                                <ion-card *ngIf="media.smallDevice" class="caseItemSm" [id]="'case_card'+i" noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="openClosedConversation(conversation)">
                                    <div style="width:100px;">
                                        <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="conversation.photo" [ngStyle]="{'background-image': 'url(' + conversation.photo + ')'}"></div>
                                        <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!conversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    </div>
                                    
                                    <div flex flex-column fullwidth style="height: 135px;">
                                        <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                            <ion-card-title style="text-transform:none;color:var(--ion-color-secondary)" font-18 weight600 text-secondary>{{conversation.title}}</ion-card-title>
                                            <ion-card-subtitle style="text-transform:none;margin-top:10px;" font-14 weight500>{{helper.showLocalDate(conversation.timestamp,translate.instant('date_formats.longDateTime'),0,true) }}</ion-card-subtitle>
                                        </ion-card-header>
                                        <span class="spacer"></span>
                                        <div flex center-ver fullwidth class="arrowDiv">
                                            <fa-icon removeIcon [icon]="icon.get('faTrashAlt')" titleIcon font-24 trash (click)="deleteConversation($event,conversation)"></fa-icon>
                                            <span class="spacer"></span>
                                            <span font-18 text-secondary weight600 relative style="top:-2px">{{'buttons.watch' | translate}}</span>
                                            <fa-icon font-24 titleIcon [icon]="icon.get('faArrowRight')"></fa-icon>
                                        </div>
                                    </div>
                                </ion-card>
                                </ion-col>

                        </ion-row>

                        <ion-row>
                            <ion-col [size]="helper.cardSizeSmall" *ngIf="showAll=='cases'&&!visibleCases.length">
                                <ion-card noPadding pointer fullheight>
                                    <ion-card-content noPadding fullHeight flex center-hor>
                                        <div flex center center-ver center-hor>
                                            <ion-card-header>
                                                <ion-card-title font-18 weight600>{{'start.no_results' | translate}}</ion-card-title>
                                            </ion-card-header>
                                        </div>
                                    </ion-card-content>
                                </ion-card>
                            </ion-col>

                            <ion-col [size]="helper.cardSizeSmall" *ngIf="showAll=='modules'&&!(auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']).length">
                                <ion-card noPadding pointer fullheight>
                                    <ion-card-content noPadding fullHeight flex center-hor>
                                        <div flex center center-ver center-hor>
                                            <ion-card-header>
                                                <ion-card-title font-18 weight600>{{'start.no_results' | translate}}</ion-card-title>
                                            </ion-card-header>
                                        </div>
                                    </ion-card-content>
                                </ion-card>
                            </ion-col>
                
                            <ng-container *ngIf="showAll=='cases'&&!media.smallDevice">
                                <ion-col [size]="helper.cardSizeSmall" *ngFor="let caseItem of visibleCases;let i = index">
                                    <ion-card [id]="'case_card'+i" noPadding pointer fullheight class="'caseItem" (click)="showCaseInfo(caseItem)">
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <div *ngIf="caseItem.avatarName" class="videoAvatarBadge">{{'cases.badge_video' | translate}}</div>
                                            <div class="shareButtonCase" pointer (click)="media.shareCase(caseItem,$event)">
                                                <ion-icon name="share-outline" font-22 *ngIf="this.media.isAppleDevice"></ion-icon>
                                                <ion-icon name="share-social-outline" font-22 *ngIf="!this.media.isAppleDevice"></ion-icon>
                                            </div>
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{caseItem.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <!-- <div style="width:50%;padding:0px 10px">
                
                                                    <div font-16 weight600 text-primary>Level {{caseItem.level}}</div>
                
                                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                                </div> -->

                                                <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(caseItem.level)}" fill="outline" size="small">
                                                    <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(caseItem.level)}">{{caseItem.level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(caseItem.level)}">{{'standards.level' | translate}}</div>
                                                    </div>
                                                </ion-button>
                                                <div class="spacer"></div>
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="auth.credits.total<=0 ? noCredits($event) : startConversation(caseItem,$event)">{{'cases.start_conversation' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                
                                </ion-col>
                            
                            </ng-container>
                
                            <ng-container *ngIf="showAll=='cases'&&media.smallDevice">
                                <ion-col [size]="12" *ngFor="let caseItem of visibleCases;let i = index">
                                <!-- <ion-col [size]="helper.cardSizeSmall" *ngFor="let caseItem of cases.all | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : extraFilters.open_to_user | filterKey : 'level' : currentFilterLevels | filterSearch : searchTerm : false : ['title','tags'];let i = index"> -->

                                    <ion-card class="caseItemSm" [id]="'case_card'+i" noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="auth.credits.total<=0 ? noCredits() : showCaseInfo(caseItem)"><!--" : startConversation(caseItem)">-->
                                        <div style="width:100px;">
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <!-- <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating> -->
                                            
                                        </div>
                                        
                                        <div flex flex-column fullwidth style="height: 135px;">
                                            <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                                <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                                <ion-card-subtitle style="text-transform:none" font-14 weight500>{{caseItem.user_info | maxLength : 80 : true}}</ion-card-subtitle>
                                            </ion-card-header>
                                            <span class="spacer"></span>
                                            <div flex center-ver fullwidth class="arrowDiv">
                                                <span class="spacer"></span>
                                                <span font-18 text-secondary weight600 relative style="top:-2px">{{'cases.start_conversation' | translate}}</span>
                                                <fa-icon font-24 titleIcon [icon]="icon.get('faArrowRight')"></fa-icon>
                                            </div>
                                        </div>
                                    </ion-card>
                                </ion-col>
                
                            </ng-container>
                
                            <ng-container *ngIf="showAll=='modules'&&!media.smallDevice">
                                <ion-col  [size]="helper.cardSizeSmall" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']">
                                
                                    <ion-card noPadding pointer fullheight class="'courseItem">
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{course.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{course.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                        
                                                <div class="cardPrice">{{helper.currencyChar('EUR (€)')}} {{course.price | number : '1.2-2'}}</div>
                                                <span class="spacer"></span>
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="subscribeCourse(course)">{{'cases.read_more' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>
                            </ng-container>
                
                            <ng-container *ngIf="showAll=='modules'&&media.smallDevice">
                                <ion-col  [size]="helper.cardSize" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']">
                                    <ion-card noMargin basicPadding pointer class="'courseItemSm" flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="subscribeCourse(course)">
                                        <div style="width:100px;">
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                            <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                            
                                        </div>
                                        
                                        <div flex flex-column fullwidth style="height: 135px;">
                                            <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                                <ion-card-title font-18 weight500>{{course.title}}</ion-card-title>
                                                <ion-card-subtitle style="text-transform:none;" font-14 weight400>{{course.description | maxLength : 80 : true}}</ion-card-subtitle>
                                            </ion-card-header>
                                            <span class="spacer"></span>
                                            <div flex center-ver fullwidth class="arrowDiv">
                                                <span class="spacer"></span>
                                                <span font-18 text-secondary weight600 relative style="top:-2px">{{'cases.read_more' | translate}}</span>
                                                <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                            </div>
                                        </div>
                                    </ion-card>
                
                                </ion-col>
                            </ng-container>


                            <ng-container *ngIf="showAll=='my_trainings'&&!selectedModule?.id &&media.smallDevice">
                                <ion-col marginBottom [size]="helper.cardSizeSmall" *ngFor="let item of auth.activeCourses | filterSearch : searchTerm : false : ['title','tags','user_info','id','trainer.name']">

                                    <ion-card noPadding pointer fullheight caseCard>
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <div *ngIf="item.trainer?.logo" class="logoTraining" borderRadius8>
                                                    <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                </div>
                                                <!-- <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                    <div>
                                                        <div>{{item.items?.length ? item.items?.length : 0}}</div>
                                                        <div font-12>{{'standards.items' | translate}}</div>
                                                    </div>
                                                </ion-button> -->
                                                <div class="spacer"></div>
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="nav.go('start/my_trainings/'+item.id);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile></ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile2></ion-card>

                                </ion-col>
                                
                                <ion-col [size]="12" *ngIf="!(auth.activeCourses | filterSearch : searchTerm : false : ['title','tags','user_info','id','trainer.name']).length">
                                    <ion-card noPadding pointer fullheight>
                                        <ion-card-content noPadding fullHeight flex center-hor>
                                            <div flex center center-ver center-hor>
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{'cases.no_results' | translate}}</ion-card-title>
                                                </ion-card-header>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>
                            </ng-container>

                            <ng-container *ngIf="showAll=='my_trainings'&&!selectedModule?.id &&!media.smallDevice">
                                <ion-col [size]="helper.cardSizeSmall" *ngFor="let item of auth.activeCourses">

                                    <ion-card noPadding fullheight caseCard>
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <div *ngIf="item.trainer?.logo" class="logoTraining" borderRadius8>
                                                    <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                </div>
                                                <!-- <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                    <div>
                                                        <div>{{item.items?.length ? item.items?.length : 0}}</div>
                                                        <div font-12>{{'standards.items' | translate}}</div>
                                                    </div>
                                                </ion-button> -->
                                                <div class="spacer"></div>
                                                <ion-button class="saveButton cardButton" *ngIf="item.status_access!='pending'" fill="outline" size="small" (click)="nav.go('start/my_trainings/'+item.id);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                                <ion-button class="saveButton cardButton" *ngIf="item.status_access=='pending'" disabled fill="outline" size="small">{{'trainings.waiting_for_access' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule></ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule2></ion-card>

                                </ion-col>
                                <!-- <ion-col [size]="helpers.cardSizeSmall" *ngIf="!visibleItems.length">
                                    <ion-card noPadding pointer fullheight>
                                        <ion-card-content noPadding fullHeight flex center-hor>
                                            <div flex center center-ver center-hor>
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{'cases.no_results' | translate}}</ion-card-title>
                                                </ion-card-header>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col> -->
                            </ng-container>
                            
                            <ion-col size="12" marginBottom *ngIf="showAll=='my_trainings'&&selectedModule?.id && media.smallDevice">
                                <div style="background:white;padding:10px 0px;border-radius:16px;margin-top:15px;width:100%;">
                                    <div fullwidth style="height:100px">
                                        <img [src]="selectedModule.trainer.logo" style="width:100%;height:100%;border-radius:16px;object-fit:contain;">
                                    </div> 
                                </div>
                            </ion-col>
                    
                            <ng-container *ngIf="showAll=='my_trainings'&&selectedModule?.id &&!trainingItem &&!media.smallDevice">
                                <ion-col size="12">
                                    <ion-card basicPadding>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.title}}</ion-card-title>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].title}}</ion-card-title>
                                        <ion-card-content>
                                            <div font-16 weight500 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.user_info}}</div>
                                            <div font-16 weight500 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].user_info}}</div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>

                                <ion-row basicPadding fullwidth>
                                    <!-- <ion-col [size]="helper.cardSizeSmall" *ngIf="modulesBreadCrumbs.length || selectedModule?.id"> -->

                                        <!-- <ion-card class="backArrowModule" pointer noBackground noPadding fullheight noMargin flex center-ver center-hor (click)="backBreadCrumbs()">
                                            <fa-icon font-80 weight700 [icon]="icon.get('faArrowLeft')"></fa-icon>
                                        </ion-card> -->

                                        <!-- <ion-card noPadding pointer fullheight caseCard (click)="backBreadCrumbs()">
                                            <ion-card-content noPadding fullHeight>
                                                <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,'breadCrumbs',modulesBreadCrumbs,2).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,'breadCrumbs',modulesBreadCrumbs,2).photo + ')'}"></div>
                                                <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,'breadCrumbs',modulesBreadCrumbs,2).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                        <ion-card-title font-18 weight600>{{'buttons.back_to' | translate}}</ion-card-title>
                                                        <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,'breadCrumbs',modulesBreadCrumbs,2).title}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                </div>
                                                <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'buttons.back' | translate}}</ion-button>
                                                </div>
                                            </ion-card-content>
                                        </ion-card>
                                        <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule></ion-card>
                                        <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule2></ion-card> -->
                                          

                                    <!-- </ion-col> -->

                                    <ng-container  *ngFor="let item of (modulesBreadCrumbs.length ? modulesBreadCrumbs[modulesBreadCrumbs.length-1].items : selectedModule.items); let i = index">
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id))" [size]="helper.cardSizeSmall">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='case'" (click)="showCaseInfo(auth.getTrainingItem(selectedModule.id,item.id),selectedModule.trainer.logo,selectedModule)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{auth.getTrainingItem(selectedModule.id,item.id).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'cases.start_conversation' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                    
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='infoItem'" (click)="showCaseInfo(auth.getTrainingItem(selectedModule.id,item.id),selectedModule.trainer.logo,selectedModule)">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                        <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                        <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectTrainingItem(item,$event);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
    
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
    
                                            <ion-card noPadding pointer fullheight caseCard *ngIf="item.type=='module'" (click)="selectSubModule(item);scrollItemsToTop()">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div *ngIf="item.trainer?.logo" class="videoAvatarBadge" borderRadius0>
                                                        <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                    </div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                        <ion-card-header>
                                                            <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                            <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                        </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                            <div>
                                                                <div>{{countActiveItems(item.items)}}</div>
                                                                <div font-12>{{'standards.items' | translate}}</div>
                                                            </div>
                                                        </ion-button>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" >{{'modules.open_module' | translate}}</ion-button>
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule *ngIf="item.type=='module'"></ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule2 *ngIf="item.type=='module'"></ion-card>
                                              
                                            <ion-card *ngIf="itemIsFinished(item)" class="finishedItem">
                                                <fa-icon [icon]="icon.get('faCheck')"></fa-icon>
                                            </ion-card>
                                        </ion-col>
                                        
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id))&&item.type=='case'&&isActiveConversation(item)" [size]="helper.cardSizeSmall">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 (click)="continueConversationFrom(item)" style="border:solid 3px var(--ion-color-primary)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{auth.getTrainingItem(selectedModule.id,item.id).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'start.continue_conversation_button' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>

                                        </ion-col>

                                    </ng-container>
                                </ion-row>

                            </ng-container>

                            <ng-container *ngIf="showAll=='my_trainings'&&selectedModule?.id &&!trainingItem &&media.smallDevice">
                                <ion-col size="12">
                                    <ion-card basicPadding noMargin>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.title}}</ion-card-title>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].title}}</ion-card-title>
                                        <ion-card-content>
                                            <div font-16 weight500 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.user_info}}</div>
                                            <div font-16 weight500 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].user_info}}</div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>

                                <ion-row basicPadding fullwidth>

                                    <ng-container  *ngFor="let item of (modulesBreadCrumbs.length ? modulesBreadCrumbs[modulesBreadCrumbs.length-1].items : selectedModule.items); let i = index">
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id))" [size]="helper.cardSizeMedium">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='case'" (click)="showCaseInfo(auth.getTrainingItem(selectedModule.id,item.id),selectedModule.trainer.logo)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{auth.getTrainingItem(selectedModule.id,item.id).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'cases.start_conversation' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                    
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='infoItem'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                        <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                        <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectTrainingItem(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
    
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
    
                                            <ion-card noPadding pointer fullheight caseCard *ngIf="item.type=='module'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div *ngIf="item.trainer?.logo" class="videoAvatarBadge" borderRadius0>
                                                        <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                    </div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                        <ion-card-header>
                                                            <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                            <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                        </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                            <div>
                                                                <div>{{countActiveItems(item.items)}}</div>
                                                                <div font-12>{{'standards.items' | translate}}</div>
                                                            </div>
                                                        </ion-button>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectSubModule(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile *ngIf="item.type=='module'"></ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile2 *ngIf="item.type=='module'"></ion-card>
                                              
                                            <ion-card *ngIf="itemIsFinished(item)" class="finishedItem" style="left: -6px;">
                                                <fa-icon [icon]="icon.get('faCheck')"></fa-icon>
                                            </ion-card>
                                        </ion-col>
                                        
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id))&&item.type=='case'&&isActiveConversation(item)" [size]="helper.cardSizeSmall">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 (click)="continueConversationFrom(item)" style="border:solid 3px var(--ion-color-primary)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{auth.getTrainingItem(selectedModule.id,item.id).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'start.continue_conversation_button' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>

                                        </ion-col>
                                    </ng-container>
                                </ion-row>

                            </ng-container>

                            <ng-container *ngIf="showAll=='my_trainings'&&selectedModule?.id &&trainingItem">
                                <ion-card fullwidth [ngStyle]="{'margin': media.smallDevice ? '5px' : '24px 16px'}">
                                    <ion-card-header>
                                        <ion-card-title font-24>
                                          <span>{{auth.getTrainingItem(selectedModule.id,trainingItem.id).title}}</span>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <div basicPadding>

                                        <div [innerHTML]="auth.getTrainingItem(selectedModule.id,trainingItem.id).intro | cleanHtml" weight600 marginBottom  class="textContainer"></div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).extra_photo" style="height:400px;" marginBottom>
                                          <img [src]="auth.getTrainingItem(selectedModule.id,trainingItem.id).extra_photo" alt="" borderRadius24 style="width:100%;height:100%;object-fit:cover;">
                                        </div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).type=='video' && auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url">
                                          <video controls style="width:100%;height:500px;" *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url && !media.isYoutubeUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url) && !media.isVimeoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url)" [controls]="true" [src]="media.videoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url)">
                                            <source [src]="media.videoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url)" type="video/mp4">
                                            Your browser does not support the video tag.
                                          </video>
                                          
                                        <iframe *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url && media.isYoutubeUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url) || media.isVimeoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url)" style="width:100%;height:500px;" [src]="auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url | sanitizeHtml : 'urlResource'" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

                                        </div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).type!='image_only'">
                                          <div [innerHTML]="auth.getTrainingItem(selectedModule.id,trainingItem.id).content | cleanHtml" class="textContainer"></div>
                                        </div>

                                        <div marginTop *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id).files?.length">

                                            <ion-card-title flex center-ver marginTop marginBottom>
                                                <span weight600>{{'buttons.attachments' | translate}}</span>
                                                <span class="spacer"></span>
                                              </ion-card-title>
                      
                                            <ion-item pointer (click)="nav.goto(file.url,true)" *ngFor="let file of auth.getTrainingItem(selectedModule.id,trainingItem.id).files" borderSecondary borderRadius16 detail="false" lines="none">
                                                <ion-label font-18 marginLeft>{{file.name}}</ion-label>
                                            </ion-item>

                                        </div>
                                    </div>
                                    <div basicPadding>
                                        <ion-button color=secondary fill="clear" (click)="readInfoItem()">
                                            <fa-icon [icon]="icon.get('faArrowLeft')"></fa-icon>
                                            <span marginLeft>{{'buttons.back' | translate}}</span>
                                        </ion-button>
                                    </div> 
                                </ion-card>
                            </ng-container>

                            <ng-container *ngIf="showAll=='my_organisation'&&!selectedModule?.id &&media.smallDevice && auth.mySelectedOrganisation?.trainings">
                                <ion-col marginBottom [size]="helper.cardSizeSmall" *ngFor="let item of auth.mySelectedOrganisation?.trainings | filterSearch : searchTerm : false : ['title','tags','user_info','id','trainer.name']">

                                    <ion-card noPadding pointer fullheight caseCard>
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <div *ngIf="item.trainer?.logo" class="logoTraining" borderRadius8>
                                                    <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                </div>
                                                <!-- <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                    <div>
                                                        <div>{{item.items?.length ? item.items?.length : 0}}</div>
                                                        <div font-12>{{'standards.items' | translate}}</div>
                                                    </div>
                                                </ion-button> -->
                                                <div class="spacer"></div>
                                                <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="nav.go('start/my_organisation/'+item.id);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile></ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile2></ion-card>

                                </ion-col>
                                
                                <ion-col [size]="12" *ngIf="!(auth.activeCourses | filterSearch : searchTerm : false : ['title','tags','user_info','id','trainer.name']).length">
                                    <ion-card noPadding pointer fullheight>
                                        <ion-card-content noPadding fullHeight flex center-hor>
                                            <div flex center center-ver center-hor>
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{'cases.no_results' | translate}}</ion-card-title>
                                                </ion-card-header>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>
                            </ng-container>

                            <ng-container *ngIf="showAll=='my_organisation'&&!selectedModule?.id &&!media.smallDevice && auth.mySelectedOrganisation?.trainings">
                                <ion-col [size]="helper.cardSizeSmall" *ngFor="let item of auth.mySelectedOrganisation?.trainings | filterSearch : searchTerm : false : ['title','tags','user_info','id']">

                                    <ion-card noPadding pointer fullheight caseCard>
                                        <ion-card-content noPadding fullHeight>
                                            <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                            <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                            
                                            <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                <ion-card-header>
                                                    <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                    <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                </ion-card-header>
                                            </div>
                                            <div center flex center-ver center-hor>
                                                <div *ngIf="item.trainer?.logo" class="logoTraining" borderRadius8>
                                                    <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                </div>

                                                 <div *ngIf="auth.mySelectedOrganisation.logo" class="logoTraining" borderRadius8>
                                                    <img [src]="auth.mySelectedOrganisation.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                </div>

                                                <!-- <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                    <div>
                                                        <div>{{item.items?.length ? item.items?.length : 0}}</div>
                                                        <div font-12>{{'standards.items' | translate}}</div>
                                                    </div>
                                                </ion-button> -->
                                                <div class="spacer"></div>
                                                <ion-button class="saveButton cardButton" *ngIf="item.status_access!='pending'" fill="outline" size="small" (click)="nav.go('start/my_organisation/'+item.id);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                                <ion-button class="saveButton cardButton" *ngIf="item.status_access=='pending'" disabled fill="outline" size="small">{{'trainings.waiting_for_access' | translate}}</ion-button>
                                            </div>
                                        </ion-card-content>
                                    </ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule></ion-card>
                                    <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule2></ion-card>

                                </ion-col>
                               
                            </ng-container>
                            
                            <ion-col size="12" marginBottom *ngIf="showAll=='my_organisation'&&selectedModule?.id && media.smallDevice">
                                <div style="background:white;padding:10px 0px;border-radius:16px;margin-top:15px;width:100%;">
                                    <div fullwidth style="height:100px">
                                        <img [src]="auth.mySelectedOrganisation.logo" style="width:100%;height:100%;border-radius:16px;object-fit:contain;">
                                    </div> 
                                </div>
                            </ion-col>

                            <ng-container *ngIf="showAll=='my_organisation'&&selectedModule?.id &&!trainingItem &&!media.smallDevice">
                                <ion-col size="12">
                                    <ion-card basicPadding>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.title}}</ion-card-title>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].title}}</ion-card-title>
                                        <ion-card-content>
                                            <div font-16 weight500 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.user_info}}</div>
                                            <div font-16 weight500 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].user_info}}</div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>

                                <ion-row basicPadding fullwidth>

                                    <ng-container  *ngFor="let item of (modulesBreadCrumbs.length ? modulesBreadCrumbs[modulesBreadCrumbs.length-1].items : selectedModule.items); let i = index">
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id,null,0,true))" [size]="helper.cardSizeSmall">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='case'" (click)="showCaseInfo(auth.getTrainingItem(selectedModule.id,item.id,null,0,true),auth.mySelectedOrganisation.logo)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'cases.start_conversation' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                    
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='infoItem'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                        <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                        <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectTrainingItem(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
    
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
    
                                            <ion-card noPadding pointer fullheight caseCard *ngIf="item.type=='module'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div *ngIf="item.trainer?.logo" class="videoAvatarBadge" borderRadius0>
                                                        <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                    </div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                        <ion-card-header>
                                                            <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                            <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                        </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                            <div>
                                                                <div>{{countActiveItems(item.items)}}</div>
                                                                <div font-12>{{'standards.items' | translate}}</div>
                                                            </div>
                                                        </ion-button>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectSubModule(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule *ngIf="item.type=='module'"></ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModule2 *ngIf="item.type=='module'"></ion-card>
                                              
                                            <ion-card *ngIf="itemIsFinished(item,true)" class="finishedItem">
                                                <fa-icon [icon]="icon.get('faCheck')"></fa-icon>
                                            </ion-card>
                                        </ion-col>
                                        
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id,null,0,true))&&item.type=='case'&&isActiveConversation(item)" [size]="helper.cardSizeSmall">
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 (click)="continueConversationFrom(item)" style="border:solid 3px var(--ion-color-primary)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'start.continue_conversation_button' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                                        </ion-col>

                                    </ng-container>
                                </ion-row>

                            </ng-container>

                            <ng-container *ngIf="showAll=='my_organisation'&&selectedModule?.id &&!trainingItem &&media.smallDevice">
                                <ion-col size="12">
                                    <ion-card basicPadding noMargin>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.title}}</ion-card-title>
                                        <ion-card-title basicPaddingLeft upperCase marginBottom font-20 weight600 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].title}}</ion-card-title>
                                        <ion-card-content>
                                            <div font-16 weight500 *ngIf="!modulesBreadCrumbs.length">{{selectedModule.user_info}}</div>
                                            <div font-16 weight500 *ngIf="modulesBreadCrumbs.length">{{modulesBreadCrumbs[modulesBreadCrumbs.length-1].user_info}}</div>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>

                                <ion-row basicPadding fullwidth>

                                    <ng-container  *ngFor="let item of (modulesBreadCrumbs.length ? modulesBreadCrumbs[modulesBreadCrumbs.length-1].items : selectedModule.items); let i = index">
                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id,null,0,true))" [size]="helper.cardSizeMedium">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='case'" (click)="showCaseInfo(auth.getTrainingItem(selectedModule.id,item.id,null,0,true),auth.mySelectedOrganisation.logo)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'cases.start_conversation' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                    
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 *ngIf="item.type=='infoItem'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                        <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                        <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectTrainingItem(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
    
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
    
                                            <ion-card noPadding pointer fullheight caseCard *ngIf="item.type=='module'">
                                                <ion-card-content noPadding fullHeight>
                                                    <div backgroundImage class="avatarImage" *ngIf="item.photo" [ngStyle]="{'background-image': 'url(' + item.photo + ')'}"></div>
                                                    <div backgroundImage class="avatarImage" *ngIf="!item.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                    <div *ngIf="item.trainer?.logo" class="videoAvatarBadge" borderRadius0>
                                                        <img [src]="item.trainer.logo | sanitizeHtml : 'urlResource'" class="trainerLogo"/>
                                                    </div>
                                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                        <ion-card-header>
                                                            <ion-card-title font-18 weight600>{{item.title}}</ion-card-title>
                                                            <ion-card-subtitle font-14 weight400>{{item.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                        </ion-card-header>
                                                    </div>
                                                    <div center flex center-ver center-hor>
                                                        <ion-button class="saveButton creditButton" style="border-radius:100%" fill="outline" size="small">
                                                            <div>
                                                                <div>{{countActiveItems(item.items)}}</div>
                                                                <div font-12>{{'standards.items' | translate}}</div>
                                                            </div>
                                                        </ion-button>
                                                        <div class="spacer"></div>
                                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="selectSubModule(item);scrollItemsToTop()">{{'modules.open_module' | translate}}</ion-button>
                                                    </div>
                                                </ion-card-content>
                                            </ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile *ngIf="item.type=='module'"></ion-card>
                                            <ion-card noMargin noPadding pointer fullheight caseCard multipleCardModuleMobile2 *ngIf="item.type=='module'"></ion-card>
                                              
                                            <ion-card *ngIf="itemIsFinished(item,true)" class="finishedItem" style="left: -6px;">
                                                <fa-icon [icon]="icon.get('faCheck')"></fa-icon>
                                            </ion-card>
                                        </ion-col>


                                        <ion-col marginBottom *ngIf="itemAvailable(auth.getTrainingItem(selectedModule.id,item.id,null,0,true))&&item.type=='case'&&isActiveConversation(item)" [size]="helper.cardSizeSmall">
                                            
                                            <ion-card noMargin noPadding pointer fullheight caseCard top10 (click)="continueConversationFrom(item)" style="border:solid 3px var(--ion-color-primary)">
                                                <ion-card-content noPadding fullHeight>
                                                  <div backgroundImage class="avatarImage" *ngIf="auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(' + auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo + ')'}"></div>
                                                  <div backgroundImage class="avatarImage" *ngIf="!auth.getTrainingItem(selectedModule.id,item.id,null,0,true).photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                                  <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                                    <ion-card-header>
                                                      <ion-card-title font-18 weight600>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).title}}</ion-card-title>
                                                      <ion-card-subtitle font-14 weight400>{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                                    </ion-card-header>
                                                  </div>
                                                  <div center flex center-ver center-hor>
                                                    <ion-button class="saveButton creditButton" style="border-radius:100%" [ngStyle]="{'background':levelService.levelColor(item.level)}" fill="outline" size="small">
                                                      <div>
                                                        <div [ngStyle]="{'color':levelService.levelColorText(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level}}</div>
                                                        <div font-12 [ngStyle]="{'color':levelService.levelColorTextLevel(auth.getTrainingItem(selectedModule.id,item.id,null,0,true).level)}">{{'standards.level' | translate}}</div>
                                                      </div>
                                                    </ion-button>
                                                    <div class="spacer"></div>
                                                    <ion-button class="saveButton cardButton" fill="outline" size="small">{{'start.continue_conversation_button' | translate}}</ion-button>
    
                                                  </div>
                                                </ion-card-content>
                                            </ion-card>
                                            
                                        </ion-col>
                                        
                                    </ng-container>
                                </ion-row>

                            </ng-container>

                            <ng-container *ngIf="showAll=='my_organisation'&&selectedModule?.id &&trainingItem">
                                <ion-card fullwidth [ngStyle]="{'margin': media.smallDevice ? '5px' : '24px 16px'}">
                                    <ion-card-header>
                                        <ion-card-title font-24>
                                          <span>{{auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).title}}</span>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <div basicPadding>

                                        <div [innerHTML]="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).intro | cleanHtml" weight600 marginBottom  class="textContainer"></div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).extra_photo && auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).type!='video'" style="height:400px;" marginBottom>
                                          <img [src]="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).extra_photo" alt="" borderRadius24 style="width:100%;height:100%;object-fit:cover;">
                                        </div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).type=='video' && auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url">
                                          <video controls style="width:100%;height:500px;" *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url && !media.isYoutubeUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url) && !media.isVimeoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url)" [controls]="true" [src]="media.videoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url)">
                                            <source [src]="media.videoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id).video_url)" type="video/mp4">
                                            Your browser does not support the video tag.
                                          </video>
                                          
                                        <iframe *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url && media.isYoutubeUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url) || media.isVimeoUrl(auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url)" style="width:100%;height:500px;" [src]="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).video_url | sanitizeHtml : 'urlResource'" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

                                        </div>
                                        <div *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).type!='image_only'">
                                          <div [innerHTML]="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).content | cleanHtml" class="textContainer"></div>
                                        </div>

                                        <div marginTop *ngIf="auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).files?.length">

                                            <ion-card-title flex center-ver marginTop marginBottom>
                                                <span weight600>{{'buttons.attachments' | translate}}</span>
                                                <span class="spacer"></span>
                                              </ion-card-title>
                      
                                            <ion-item pointer (click)="nav.goto(file.url,true)" *ngFor="let file of auth.getTrainingItem(selectedModule.id,trainingItem.id,null,0,true).files" borderSecondary borderRadius16 detail="false" lines="none">
                                                <ion-label font-18 marginLeft>{{file.name}}</ion-label>
                                            </ion-item>

                                        </div>
                                    </div>
                                    <div basicPadding flex center-ver fullwidth>
                                        <ion-button color=secondary fill="clear" (click)="readInfoItem(true)">
                                            <fa-icon [icon]="icon.get('faArrowLeft')"></fa-icon>
                                            <span marginLeft>{{'buttons.back' | translate}}</span>
                                        </ion-button>
                                        <div class="spacer"></div>
                                        <ion-button color=secondary *ngIf="selectedModule.module_type=='game'" fill="clear" (click)="nextItem()">
                                            <span>{{'buttons.next' | translate}}</span>
                                            <fa-icon marginLeft [icon]="icon.get('faArrowRight')"></fa-icon>
                                        </ion-button>
                                    </div> 
                                </ion-card>
                            </ng-container>


                        </ion-row>


                    </ion-col>
                    <ion-infinite-scroll *ngIf="showAll && filteredCases.length > visibleCases.length" (ionInfinite)="loadMore($event)">
                        <ion-infinite-scroll-content></ion-infinite-scroll-content>
                    </ion-infinite-scroll>
                </ion-content>


            </ion-row>


        </ion-grid>
    </div>
</main>