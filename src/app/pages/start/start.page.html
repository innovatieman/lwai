<app-header [page]="'start'"></app-header>
<main class="selectMain">
    <div *ngIf="!auth.userInfo.isConfirmed&&auth.userInfo.email">
        <ion-card style="font-size:18px" basicPadding>
            {{ 'start.unconfirmed' | translate }}
        </ion-card>
    </div>

    <div *ngIf="showFilterSmall" class="filterSmallTitle">
        <div basicPadding>
            <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                <span>{{'filter.title' | translate}}</span>
                <span class="spacer"></span>
                <fa-icon [icon]="icon.get('faTimes')" (click)="clearFilter()" *ngIf="!filterIsEmpty"></fa-icon>
                <fa-icon titleIcon [icon]="icon.get('faChevronUp')" (click)="showFilterSmall = !showFilterSmall"></fa-icon>    
            </ion-card-title>
        </div> 
    </div>
    <div *ngIf="showFilterSmall" class="filterSmall">
        
        <div *ngFor="let type of infoService.conversation_types">
            <ion-item lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="type.selected = !type.selected">
                <ion-checkbox slot="start" [(ngModel)]="type.selected" noPointerEvents></ion-checkbox>
                <ion-label>{{ type[translate.currentLang] }}</ion-label>
            </ion-item>
            <div class="innerSelectCase" [ngStyle]="{'max-height': type.selected ? (type.showFull ? '800px' :'300px') : '0px','padding-bottom': type.selected && type.showFull ? '50px' : '0px'}">
                <ion-item lines="none" font-18 weight400 noMargin class="selectCaseItem innerSelectCaseItem" *ngFor="let subject of type.subjects" (click)="subject.selected = !subject.selected">
                    <ion-checkbox slot="start" [(ngModel)]="subject.selected" noPointerEvents></ion-checkbox>
                    <ion-label>{{ subject[translate.currentLang] }}</ion-label>
                </ion-item>
                <ion-item lines="none" button font-18 weight400 noMargin fullwidth class="selectCaseItem innerSelectCaseItem innerSelectMoreToggle" *ngIf="type.subjects.length>5" (click)="type.showFull = !type.showFull" [ngStyle]="{'top': !type.showFull ? '240px' : 'calc(100% - 50px)'}">
                    <!-- <ion-checkbox slot="start" noPointerEvents></ion-checkbox> -->
                    <ion-label style="margin-left:30px;opacity:0.5" italic text-medium>{{ type.showFull ? 'Toon minder' : 'Toon alles' }}</ion-label>
                    <!-- <fa-icon slot="end" [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': type.showFull ? 'rotate(180deg)' : 'none'}"></fa-icon> -->
                </ion-item>
            </div>
        </div>

        <div basicPadding *ngIf="showAll=='cases'">
            <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                <span>{{'filter.levels' | translate}}</span>
                <span class="spacer"></span>
                <fa-icon [icon]="icon.get('faTimes')" (click)="clearFiltersLevel()" *ngIf="!filterIsEmptyLevel"></fa-icon>
            </ion-card-title>
        </div> 
        <div *ngIf="showAll=='cases'">
            <div *ngFor="let level of levels">
                <ion-item lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="level.selected = !level.selected">
                    <ion-checkbox slot="start" [(ngModel)]="level.selected" noPointerEvents></ion-checkbox>
                    <ion-label>{{'filter.level' | translate}} {{ level.nr }}</ion-label>
                </ion-item>
            </div>
        </div>
    </div>

    <ion-grid class="mainGrid">

        <ion-row>
            <ion-col *ngIf="media.smallDevice" [size]="12" class="selectColumn" style="padding-bottom:0;">
    
                <ion-row noPadding>
                    <ion-col size="2">
                        <ion-card pointer noMargin basicPadding center (click)="nav.go('start');setupProgressCircles()" [ngClass]="{'activeItem': showAll=='','notActiveItem': showAll}">
                            <ion-card-title font-18 weight700>
                                <fa-icon [icon]="icon.get('faHome')"></fa-icon>
                            </ion-card-title>
                        </ion-card>
                    </ion-col>

                    <ion-col size="4">
                        <ion-card pointer noMargin basicPadding center (click)="nav.go('start/cases')" [ngClass]="{'activeItem': showAll=='cases','notActiveItem': showAll!='cases'}">
                            <ion-card-title font-18 weight700>
                                <span>Cases</span>
                            </ion-card-title>
                        </ion-card>
                    </ion-col>
                    <ion-col size="4">
                        <ion-card pointer noMargin basicPadding center (click)="nav.go('start/modules')" [ngClass]="{'activeItem': showAll=='modules','notActiveItem': showAll!='modules'}">
                            <ion-card-title font-18 weight700>
                                <span>Modules</span>
                            </ion-card-title>
                        </ion-card>
                    </ion-col>

                    <ion-col size="2" *ngIf="showAll">
                        <ion-card pointer noMargin basicPadding center (click)="showFilterSmall = !showFilterSmall">
                            <ion-card-title font-18 weight700 >
                                <!-- <ion-icon name="close" style="min-width:30px" font-20 pointer (click)="clearFilter()" *ngIf="!filterIsEmpty"></ion-icon> -->
                                <!-- <ion-icon name="filter" style="min-width:30px" font-20 pointer ></ion-icon> -->
                                <fa-icon [icon]="icon.get('faFilter')" text-primary></fa-icon>
                            </ion-card-title>
                        </ion-card>
                    </ion-col>

                </ion-row>
                <ion-row noPadding *ngIf="showAll">
                    <ion-col size="12">
                        <ion-card noMargin flex fullwidth center-ver style="padding:5px 10px">
                            <ion-searchbar [(ngModel)]="searchTerm" placeholder="Zoeken" fullwidth [ngStyle]="{'background' : media.smallDevice ? 'white' : 'initial','--background' : media.smallDevice ? 'white' : 'initial'}"></ion-searchbar>
                      </ion-card>
                    </ion-col>
                </ion-row>

            </ion-col>

            <ion-col *ngIf="!media.smallDevice" [size]="3" class="selectColumn" style="margin-top:15px">
    
                <div style="padding:10px 0px;border-radius:16px" [ngClass]="{'activeItem': showAll=='','notActiveItem': showAll}">

                    <ion-item lines="none" button (click)="nav.go('start');setupProgressCircles()" class="itemButton">
                      <div font-20 weight700>Jouw omgeving</div>
                      <fa-icon font-24 slot="end" [icon]="icon.get('faHome')"></fa-icon>
                    </ion-item>

                </div>

                <div style="padding:10px 0px;border-radius:16px;margin-top:15px" [ngClass]="{'activeItem': showAll=='cases','notActiveItem': showAll!='cases'}">

                    <ion-item lines="none" button (click)="nav.go('start/cases')" class="itemButton" id="tutorial_step2">
                        <div font-20 weight700>Zoek casus</div>
                        <fa-icon font-24 slot="end" [icon]="icon.get('faArrowRight')"></fa-icon>
                    </ion-item>
          
                </div>

                <div style="padding:10px 0px;border-radius:16px;margin-top:15px" [ngClass]="{'activeItem': showAll=='modules','notActiveItem': showAll!='modules'}">

                    <ion-item lines="none" button (click)="nav.go('start/modules')" class="itemButton">
                        <div font-20 weight700>Zoek Module</div>
                        <fa-icon font-24 slot="end" [icon]="icon.get('faArrowRight')"></fa-icon>
                    </ion-item>
          
                </div>

                <div style="background:white;padding:10px 0px;border-radius:16px;margin:15px 0px;" *ngIf="showAll">

                    <ion-item lines="none" button class="itemButton" style="--background-hover:none;--padding-start:0;--padding-end:0" >
                        <ion-searchbar [(ngModel)]="searchTerm" placeholder="Zoeken" fullwidth [ngStyle]="{'--background' : 'white'}"></ion-searchbar>
                    </ion-item>
          
                </div>


                <div *ngIf="showAll" style="background:white;padding:10px 0px;border-radius:16px" marginBottom>
                    <div basicPadding>
                        <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                            <span>Filter</span>
                            <span class="spacer"></span>
                            <ion-icon titleIcon name="close" style="min-width:30px" font-20 pointer (click)="clearFilter()" *ngIf="!filterIsEmpty"></ion-icon>
                            <ion-icon titleIcon name="filter" style="min-width:30px" font-20 pointer *ngIf="filterIsEmpty"></ion-icon>
                            <fa-icon titleIcon [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFilter ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;" (click)="showFilter=!showFilter"></fa-icon>
                            
                            
                        </ion-card-title>
                    </div>
                    <div [ngStyle]="{'max-height': showFilter ? '1200px' : '0px','overflow':'hidden','transition':'all .3s'}">
                        <div *ngFor="let type of infoService.conversation_types">
                            <ion-item lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="type.selected = !type.selected">
                                <ion-checkbox slot="start" [(ngModel)]="type.selected" noPointerEvents></ion-checkbox>
                                <ion-label>{{ type[translate.currentLang] }}</ion-label>
                            </ion-item>
                            <div class="innerSelectCase" [ngStyle]="{'max-height': type.selected ? (type.showFull ? '800px' :'300px') : '0px','padding-bottom': type.selected && type.showFull ? '50px' : '0px'}">
                                <ion-item lines="none" font-18 weight400 noMargin class="selectCaseItem innerSelectCaseItem" *ngFor="let subject of type.subjects" (click)="subject.selected = !subject.selected">
                                    <ion-checkbox slot="start" [(ngModel)]="subject.selected" noPointerEvents></ion-checkbox>
                                    <ion-label>{{ subject[translate.currentLang] }}</ion-label>
                                </ion-item>
                                <ion-item lines="none" button font-18 weight400 noMargin fullwidth class="selectCaseItem innerSelectCaseItem innerSelectMoreToggle" *ngIf="type.subjects.length>5" (click)="type.showFull = !type.showFull" [ngStyle]="{'top': !type.showFull ? '240px' : 'calc(100% - 50px)'}">
                                    <!-- <ion-checkbox slot="start" noPointerEvents></ion-checkbox> -->
                                    <ion-label style="margin-left:30px;opacity:0.5" italic text-medium>{{ type.showFull ? 'Toon minder' : 'Toon alles' }}</ion-label>
                                    <!-- <fa-icon slot="end" [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': type.showFull ? 'rotate(180deg)' : 'none'}"></fa-icon> -->
                                </ion-item>
                            </div>
                        </div>
                    </div>
                </div>
    
                <div *ngIf="showAll=='cases'" style="background:white;padding:10px 0px;border-radius:16px" marginBottom>
                    <div basicPadding>
                        <ion-card-title uppercase weight700 font-20 text-secondary flex center-ver>
                            <span>Levels</span>
                            <span titleIcon *ngIf="!filterIsEmptyLevel">({{currentFilterLevels}})</span>
                            <span class="spacer"></span>
                            <ion-icon titleIcon name="close" style="min-width:30px" font-20 pointer (click)="clearFiltersLevel()" *ngIf="!filterIsEmptyLevel"></ion-icon>
                            <ion-icon titleIcon name="filter" style="min-width:30px" font-20 pointer *ngIf="filterIsEmptyLevel"></ion-icon>
                            <fa-icon titleIcon [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFilterLevel ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;" (click)="showFilterLevel=!showFilterLevel"></fa-icon>
                        </ion-card-title>
                    </div>
                    <div [ngStyle]="{'max-height': showFilterLevel ? '1200px' : '0px','overflow':'hidden','transition':'all .3s'}">
                        <div *ngFor="let level of levels">
                            <ion-item lines="none" font-18 weight500 noMargin class="selectCaseItem" (click)="level.selected = !level.selected">
                                <ion-checkbox slot="start" [(ngModel)]="level.selected" noPointerEvents></ion-checkbox>
                                <ion-label>Level {{ level.nr }}</ion-label>
                            </ion-item>
                        </div>

                    </div>
                </div>
                
            </ion-col>

            <ion-col [size]="media.smallDevice ? 12 : 9" class="selectColumn" [ngStyle]="{'max-height': !media.smallDevice ? 'calc((var(--vh, 1vh) * 100) - 51px)' : (showAll ? 'calc((var(--vh, 1vh) * 100) - 200px)' : 'calc((var(--vh, 1vh) * 100) - 125px)')}">
                <!-- <ion-row *ngIf="auth.activeCourses?.length">
                    <ion-col [size]="!media.smallDevice ? 6 : 12"  >
                        <ion-card align-left nobackground font-16 noMargin>
                            <ion-card-header>
                                <ion-card-title uppercase weight700>
                                    <span>Jouw modules</span>
                                </ion-card-title>
                            </ion-card-header>
                        </ion-card>
                    </ion-col>
                </ion-row> -->

                <ion-row *ngIf="showAll=='' && !media.smallDevice">
                    <ion-col size="12">

                        <ion-card fullwidth id="tutorial_step1">
                            <ion-card-header style="padding:15px">
                                <ion-card-title font-24 uppercase weight700 text-secondary>
                                    <span>Jouw voortgang</span>
                                </ion-card-title>
                            </ion-card-header>
                            <ion-card-content style="padding-bottom:0;">
                                <div style="display:flex;justify-content:center;" fullwidth>
                                    <ion-row style="height:150px">
                                        <ion-col size="3">
                                            <circle-progress #progressCircle1
                                                [percent]="auth.skills?.impact?.score ? auth.getUserLevelScorePercentage(auth.skills.impact.score) : 0"
                                                [radius]="50"
                                                [showSubtitle]="true"
                                                [subtitle]="'Level'"
                                                [subtitleFontSize]="'12'"
                                                [titleFontSize]="'32'"
                                                [titleFontWeight]="'700'"
                                                [showUnits]="false"
                                                [unitsColor]="'rgba(0,0,255,0.2)'"
                                                [units]="'Level'"
                                                [title]="(auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+''"
                                                [unitsFontSize]="'12'"
                                                [outerStrokeWidth]="12"
                                                [innerStrokeWidth]="4"
                                                [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                [animation]="true"
                                                [outerStrokeGradient]="true"
                                                [outerStrokeGradientStopColor]="'var(--ion-color-danger)'"
                                                [animateSubtitle]="true"
                                                [responsive]="true"
                                              ></circle-progress>
                                              <div font-24 weight700 center>
                                                <div>Impact</div>
                                              </div>
                                          </ion-col>
                                          <ion-col size="3">
                                            <circle-progress #progressCircle2
                                                [percent]="auth.skills?.flow?.score ? auth.getUserLevelScorePercentage(auth.skills.flow.score) : 0"
                                                [radius]="50"
                                                [showSubtitle]="true"
                                                [subtitle]="'Level'"
                                                [subtitleFontSize]="'12'"
                                                [titleFontSize]="'32'"
                                                [titleFontWeight]="'700'"
                                                [showUnits]="false"
                                                [unitsColor]="'var(--ion-color-primary)'"
                                                [units]="'2'"
                                                [title]="(auth.skills?.flow?.score ? auth.skillsLevel(auth.skills?.flow?.score) : 0)+''"
                                                [unitsFontSize]="'24'"
                                                [outerStrokeWidth]="12"
                                                [innerStrokeWidth]="4"
                                                [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                [animation]="true"
                                                [outerStrokeGradient]="true"
                                                [outerStrokeGradientStopColor]="'var(--ion-color-warning)'"
                                                [animateSubtitle]="true"
                                                [responsive]="true"
                                              ></circle-progress>
                                              <div font-24 weight700 center>
                                                <div>Flow</div>
                                              </div>
                                          </ion-col>
                                          <ion-col size="3">
                                            <circle-progress #progressCircle3 
                                                [percent]="auth.skills?.logic?.score ? auth.getUserLevelScorePercentage(auth.skills.logic.score) : 0"
                                                [radius]="50"
                                                [showSubtitle]="true"
                                                [subtitle]="'Level'"
                                                [subtitleFontSize]="'12'"
                                                [titleFontSize]="'32'"
                                                [titleFontWeight]="'700'"
                                                [showUnits]="false"
                                                [unitsColor]="'var(--ion-color-primary)'"
                                                [units]="'2'"
                                                [title]="(auth.skills?.logic?.score ? auth.skillsLevel(auth.skills?.logic?.score) : 0)+''"
                                                [unitsFontSize]="'24'"
                                                [outerStrokeWidth]="12"
                                                [innerStrokeWidth]="4"
                                                [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                [animation]="true"
                                                [outerStrokeGradient]="true"
                                                [outerStrokeGradientStopColor]="'var(--ion-color-primary)'"
                                                [animateSubtitle]="true"
                                                [responsive]="true"
                                              ></circle-progress>
                                              <div font-24 weight700 center>
                                                <div>Logic</div>
                                              </div>
                                          </ion-col>
                                          <ion-col size="3" fullheight flex center-ver center-hor>
                                            <ion-button class="saveButton" fill="outline" color="medium" (click)="showFlags=!showFlags" style="position:relative;top:-10px;">
                                                <span>Toon <span *ngIf="!showFlags">meer</span><span *ngIf="showFlags">minder</span> prestaties</span>
                                                <fa-icon titleIcon font-18 [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFlags ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;"></fa-icon>
                                            </ion-button>
                                            </ion-col>
                                    </ion-row>
                                </div>
                                <div fullwidth>
                                    <ion-row >
                                        <ion-col size="12">

                                            <div [ngStyle]="{'max-height': showFlags ? '800px' : '0px','overflow':'hidden','transition':'all .3s'}">
                                                <div singleLine marginBottom></div>
                                                <ion-row>
                                                    <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                        <app-achievement [class]="'creative'" [achieved]="true" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'success'" [achieved]="true" achievement_icon="faGraduationCap" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'dark'" [achieved]="true" achievement_icon="faSearch" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                        <app-achievement [class]="'light'" [achieved]="true" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                    </ion-col>
                                                    <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                        <app-achievement [class]="'creative'" [achieved]="false" achievement_icon="faPlus" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                        <app-achievement [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                    </ion-col>
                                                    <ion-col noPadding size="12" flex align-top center-hor style="margin-bottom: 50px;">
                                                        <app-achievement [class]="'creative'" [achieved]="false" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                        <app-achievement [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement>
                                                        <app-achievement [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement>
                                                        <app-achievement [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement>
                                                    </ion-col>
                                                </ion-row>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                </div>



                            </ion-card-content>
                        </ion-card>
                        
                    </ion-col>
                </ion-row>


                <ion-row *ngIf="showAll=='' && media.smallDevice">
                    <ion-col size="12">

                        <ion-card fullwidth noMargin>
                            <ion-card-header style="padding:15px">
                                <ion-card-title font-24 uppercase weight700 text-secondary>
                                    <span>Jouw voortgang</span>
                                </ion-card-title>
                            </ion-card-header>
                            <ion-card-content style="padding-bottom:0;">
                                <div fullwidth>
                                    <ion-row style="height:250px">
                                        <ion-col size="4">
                                            <circle-progress #progressCircle1Mobile
                                                [percent]="auth.skills?.impact?.score ? auth.getUserLevelScorePercentage(auth.skills.impact.score) : 0"
                                                [radius]="120"
                                                [showSubtitle]="true"
                                                [subtitle]="'Level'"
                                                [subtitleFontSize]="'36'"
                                                [titleFontSize]="'68'"
                                                [titleFontWeight]="'700'"
                                                [showUnits]="false"
                                                [unitsColor]="'rgba(0,0,255,0.2)'"
                                                [units]="'Level'"
                                                [title]="(auth.skills?.impact?.score ? auth.skillsLevel(auth.skills?.impact?.score) : 0)+''"
                                                [unitsFontSize]="'12'"
                                                [outerStrokeWidth]="28"
                                                [innerStrokeWidth]="4"
                                                [outerStrokeColor]="'var(--ion-color-secondary)'"
                                                [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                                [animation]="true"
                                                [outerStrokeGradient]="true"
                                                [outerStrokeGradientStopColor]="'var(--ion-color-danger)'"
                                                [animateSubtitle]="true"
                                                [responsive]="true"
                                              ></circle-progress>
                                              <div font-24 weight700 center>
                                                <div>Impact</div>
                                              </div>
                                        </ion-col>
                                        <ion-col size="4">
                                        <circle-progress #progressCircle2Mobile
                                            [percent]="auth.skills?.flow?.score ? auth.getUserLevelScorePercentage(auth.skills.flow.score) : 0"
                                            [radius]="120"
                                            [showSubtitle]="true"
                                            [subtitle]="'Level'"
                                            [subtitleFontSize]="'36'"
                                            [titleFontSize]="'68'"
                                            [titleFontWeight]="'700'"
                                            [showUnits]="false"
                                            [unitsColor]="'var(--ion-color-primary)'"
                                            [units]="'2'"
                                            [title]="(auth.skills?.flow?.score ? auth.skillsLevel(auth.skills?.flow?.score) : 0)+''"
                                            [unitsFontSize]="'24'"
                                            [outerStrokeWidth]="28"
                                            [innerStrokeWidth]="4"
                                            [outerStrokeColor]="'var(--ion-color-secondary)'"
                                            [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                            [animation]="true"
                                            [outerStrokeGradient]="true"
                                            [outerStrokeGradientStopColor]="'var(--ion-color-warning)'"
                                            [animateSubtitle]="true"
                                            [responsive]="true"
                                            ></circle-progress>
                                            <div font-24 weight700 center>
                                            <div>Flow</div>
                                            </div>
                                        </ion-col>
                                        <ion-col size="4">
                                        <circle-progress #progressCircle3Mobile 
                                            [percent]="auth.skills?.logic?.score ? auth.getUserLevelScorePercentage(auth.skills.logic.score) : 0"
                                            [radius]="120"
                                            [showSubtitle]="true"
                                            [subtitle]="'Level'"
                                            [subtitleFontSize]="'36'"
                                            [titleFontSize]="'68'"
                                            [titleFontWeight]="'700'"
                                            [showUnits]="false"
                                            [unitsColor]="'var(--ion-color-primary)'"
                                            [units]="'2'"
                                            [title]="(auth.skills?.logic?.score ? auth.skillsLevel(auth.skills?.logic?.score) : 0)+''"
                                            [unitsFontSize]="'24'"
                                            [outerStrokeWidth]="28"
                                            [innerStrokeWidth]="4"
                                            [outerStrokeColor]="'var(--ion-color-secondary)'"
                                            [innerStrokeColor]="'rgba(0,0,255,0.2)'"
                                            [animation]="true"
                                            [outerStrokeGradient]="true"
                                            [outerStrokeGradientStopColor]="'var(--ion-color-primary)'"
                                            [animateSubtitle]="true"
                                            [responsive]="true"
                                            ></circle-progress>
                                            <div font-24 weight700 center>
                                            <div>Logic</div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row style="margin-top:-100px;">
                                        <ion-col size="12" fullheight flex center-ver center-hor>
                                            <ion-button class="saveButton" fill="outline" color="medium" (click)="showFlags=!showFlags" style="position:relative;top:-10px;">
                                                <span>Toon <span *ngIf="!showFlags">meer</span><span *ngIf="showFlags">minder</span> prestaties</span>
                                                <fa-icon titleIcon font-18 [icon]="icon.get('faChevronDown')" [ngStyle]="{'transform': showFlags ? 'rotate(180deg)' : 'none'}" style="transition:all .3s;"></fa-icon>
                                            </ion-button>
                                        </ion-col>
                                    </ion-row>
                                </div>
                                <div fullwidth>
                                    <ion-row >
                                        <ion-col size="12">
                                            <div [ngStyle]="{'max-height': showFlags ? '2800px' : '0px','overflow':'hidden','transition':'all .3s'}">
                                                <div singleLine marginBottom></div>
                                                <div marginBottom>
                                                    <app-achievement-horizontal [class]="'creative'" [achieved]="true" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" [achieved]="true" achievement_icon="faGraduationCap" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'dark'" [achieved]="true" achievement_icon="faSearch" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'light'" [achieved]="true" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'creative'" [achieved]="false" achievement_icon="faPlus" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'creative'" [achieved]="false" achievement_icon="faPlay" title="Starter" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" [achieved]="false" achievement_icon="faSchool" title="Student" text="Je hebt wat geleerd!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faCogs" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'dark'" [achieved]="false" achievement_icon="faUser" title="Detective" text="Je bent je eerste factcheck uitgevoerd"></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'light'" [achieved]="false" achievement_icon="faSitemap" title="Dirigent" text="Je bent 50 punten gestegen in je Logic."></app-achievement-horizontal>
                                                    <app-achievement-horizontal [class]="'success'" achievement_icon="faMicrophone" title="Start" text="Je bent het gesprek aangegaan!"></app-achievement-horizontal>
                                                    
                                                </div>
                                            </div>
                                        </ion-col>
                                    </ion-row>
                                </div>



                            </ion-card-content>
                        </ion-card>
                        
                    </ion-col>
                </ion-row>

                <ion-row style="padding:0 15px;" [ngStyle]="{'padding':showAll ? 'padding:0px 15px' : 'padding:15px 0px' }" *ngIf="showAll==''&&(auth.activeCourses?.length || activeConversations?.length)">
                    <ion-card-header style="padding: 0px 15px;">
                        <ion-card-title font-24 uppercase weight700 text-secondary>
                            <span>Ga verder met:</span>
                        </ion-card-title>
                    </ion-card-header>
                </ion-row>

               <ion-row marginBottom *ngIf="showAll==''&&(auth.activeCourses?.length || activeConversations?.length)">
                    <ng-container *ngIf="auth.activeCourses?.length&&!media.smallDevice">
                        <ion-col [size]="helper.cardSizeSmall" *ngFor="let course of auth.activeCourses">
            
                            <ion-card noPadding pointer (click)="nav.go('course/'+course.id)" fullheight style="border:solid 3px var(--ion-color-primary)">
                                <ion-card-content noPadding fullHeight>
                                    <div backgroundImage class="avatarImage" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <!-- <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>{{course.title}}</ion-card-title>
                                        </ion-card-header>
                                    </div> -->
                                    <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>
                                                <div class="continueCaseText">
                                                    Ga verder met je module
                                                </div>
                                                <div>
                                                    {{course.title}}        
                                                </div>
                                            </ion-card-title>
                                        </ion-card-header>
                                    </div>
                                </ion-card-content>
                            </ion-card>
            
                            <!-- <ion-card (click)="nav.go('course/'+course.id)" pointer font16 weight700 tab basicPadding>{{course.title}}</ion-card>    -->
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="auth.activeCourses?.length&&media.smallDevice">
                        <ion-col  [size]="helper.cardSizeSmall" *ngFor="let course of auth.activeCourses">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px);border:solid 3px var(--ion-color-primary)" (click)="subscribeCourse(course)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>
                                            <div class="continueCaseText">
                                                Ga verder met je module
                                            </div>
                                            <div font-16>
                                                {{course.title}}        
                                            </div>
                                            <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px">
                                                Gestart op {{helper.showLocalDate(course.startdate,'',0)}}
                                            </div>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Ga verder</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>

                            </ion-card>

                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="activeConversations?.length&&!media.smallDevice">
                        <ion-col [size]="helper.cardSizeSmall" *ngFor="let activeConversation of activeConversations">
                            <ion-card pointer fullheight style="border:solid 3px var(--ion-color-primary)">
                                <ion-card-content noPadding>
                                    <fa-icon removeIcon [icon]="icon.get('faTrashAlt')" font-18 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
            
                                    <div backgroundImage class="avatarImage" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>
                                                <div class="continueCaseText">
                                                    Ga verder met je gesprek met
                                                </div>
                                                <div>
                                                    {{activeConversation.title}}        
                                                </div>
                                            </ion-card-title>
                                        </ion-card-header>
                                    </div>
                                    <div center flex center-ver center-hor style="margin-top: -10px;">
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="continueConversation(activeConversation)">Ga verder</ion-button>
                                    </div>
                                    <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px;text-align:center">
                                        Gestart op {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                    </div>
                                </ion-card-content>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="activeConversations?.length&&media.smallDevice">
                        <ion-col [size]="helper.cardSizeSmall" *ngFor="let activeConversation of activeConversations">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px);border:solid 3px var(--ion-color-primary)" (click)="continueConversation(activeConversation)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <!-- <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating> -->
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>
                                            <div class="continueCaseText">
                                                Ga verder met je gesprek met
                                            </div>
                                            <div>
                                                {{activeConversation.title}}        
                                            </div>
                                            <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px">
                                                Gestart op {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                            </div>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <fa-icon titleIcon [icon]="icon.get('faTrashAlt')" font-24 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Ga verder</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                </ion-row>

                <ion-row>
                    <ion-col [size]="helper.cardSizeSmall" *ngIf="showAll=='cases'&&!(cases.all | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : extraFilters.open_to_user | filterSearch : searchTerm : false : ['title']).length">
                        <ion-card noPadding pointer fullheight>
                            <ion-card-content noPadding fullHeight flex center-hor>
                                <div flex center center-ver center-hor>
                                    <ion-card-header>
                                        <ion-card-title font-18 weight600>Geen resultaten</ion-card-title>
                                    </ion-card-header>
                                </div>
                            </ion-card-content>
                        </ion-card>
                    </ion-col>

                    <ion-col [size]="helper.cardSizeSmall" *ngIf="showAll=='modules'&&!(auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']).length">
                        <ion-card noPadding pointer fullheight>
                            <ion-card-content noPadding fullHeight flex center-hor>
                                <div flex center center-ver center-hor>
                                    <ion-card-header>
                                        <ion-card-title font-18 weight600>Geen resultaten</ion-card-title>
                                    </ion-card-header>
                                </div>
                            </ion-card-content>
                        </ion-card>
                    </ion-col>
        
                    <ng-container *ngIf="showAll=='cases'&&!media.smallDevice">
                        <ion-col [size]="helper.cardSizeSmall" *ngFor="let caseItem of cases.all | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : extraFilters.open_to_user | filterKey : 'level' : currentFilterLevels | filterSearch : searchTerm : false : ['title'] ">
                            <ion-card noPadding pointer fullheight class="'caseItem">
                                <ion-card-content noPadding fullHeight>
                                    <div backgroundImage class="avatarImage" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div *ngIf="caseItem.avatarName" class="videoAvatarBadge">Video</div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                            <ion-card-subtitle font-14 weight400>{{caseItem.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                        </ion-card-header>
                                    </div>
                                    <div center flex center-ver center-hor>
                                        <div style="width:50%;padding:0px 10px">
        
                                            <div font-16 weight600 text-primary>Level {{caseItem.level}}</div>
        
                                            <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                        </div>
        
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="startConversation(caseItem)">Start gesprek</ion-button>
                                    </div>
                                </ion-card-content>
                            </ion-card>
        
                        </ion-col>
                    
                    </ng-container>
        
                    <ng-container *ngIf="showAll=='cases'&&media.smallDevice">
                        <ion-col [size]="12" *ngFor="let caseItem of cases.all | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : extraFilters.open_to_user | filterSearch : searchTerm : false : ['title']">
                            <ion-card class="'caseItemSm" noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="startConversation(caseItem)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                        <ion-card-subtitle style="text-transform:none" font-14 weight500>{{caseItem.user_info | maxLength : 80 : true}}</ion-card-subtitle>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Start gesprek</span>
                                        <fa-icon font-24 titleIcon [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>
                        </ion-col>
        
                    </ng-container>
        
                    <ng-container *ngIf="showAll=='modules'&&!media.smallDevice">
                        <ion-col  [size]="helper.cardSizeSmall" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']">
                        
                            <ion-card noPadding pointer fullheight class="'courseItem">
                                <ion-card-content noPadding fullHeight>
                                    <div backgroundImage class="avatarImage" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>{{course.title}}</ion-card-title>
                                            <ion-card-subtitle font-14 weight400>{{course.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                        </ion-card-header>
                                    </div>
                                    <div center flex center-ver center-hor>
                                
                                        <div class="cardPrice">{{helper.currencyChar('EUR ()')}} {{course.price | number : '1.2-2'}}</div>
                                        <span class="spacer"></span>
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="subscribeCourse(course)">Lees meer</ion-button>
                                    </div>
                                </ion-card-content>
                            </ion-card>
                        </ion-col>
                    </ng-container>
        
                    <ng-container *ngIf="showAll=='modules'&&media.smallDevice">
                        <ion-col  [size]="helper.cardSize" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | caseFilter: currentFilterTypes.types : currentFilterTypes.subjectTypes : [] | filterSearch : searchTerm : false : ['title']">
                            <ion-card noMargin basicPadding pointer class="'courseItemSm" flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="subscribeCourse(course)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight500>{{course.title}}</ion-card-title>
                                        <ion-card-subtitle style="text-transform:none;" font-14 weight400>{{course.description | maxLength : 80 : true}}</ion-card-subtitle>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Lees meer</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>
        
                        </ion-col>
                    </ng-container>

                </ion-row>


            </ion-col>







        </ion-row>


        <!-- <ion-row *ngIf="!showAll">        

           

            <ion-col [size]="media.smallDevice ? 12 : 9" class="selectColumn" [ngStyle]="{'max-height':'calc((var(--vh, 1vh) * 100) - 51px)'}">
                <ion-row *ngIf="auth.activeCourses?.length">
                    <ion-col [size]="!media.smallDevice ? 6 : 12"  >
                        <ion-card align-left nobackground font-16 noMargin>
                            <ion-card-header>
                                <ion-card-title uppercase weight700>
                                    <span>Jouw modules</span>
                                </ion-card-title>
                            </ion-card-header>
                        </ion-card>
                    </ion-col>
                </ion-row>

               <ion-row marginBottom *ngIf="auth.activeCourses?.length">
                    <ng-container *ngIf="!media.smallDevice">
                        <ion-col [size]="helper.cardSize" *ngFor="let course of auth.activeCourses">
            
                            <ion-card noPadding pointer (click)="nav.go('course/'+course.id)" fullheight style="border:solid 3px var(--ion-color-primary)">
                                <ion-card-content noPadding fullHeight>
                                    <div backgroundImage class="avatarImage" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>
                                                <div class="continueCaseText">
                                                    Ga verder met je module
                                                </div>
                                                <div>
                                                    {{course.title}}        
                                                </div>
                                            </ion-card-title>
                                        </ion-card-header>
                                    </div>
                                </ion-card-content>
                            </ion-card>
            
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="media.smallDevice">
                        <ion-col  [size]="helper.cardSize" *ngFor="let course of auth.activeCourses">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px);border:solid 3px var(--ion-color-primary)" (click)="subscribeCourse(course)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>
                                            <div class="continueCaseText">
                                                Ga verder met je module
                                            </div>
                                            <div font-16>
                                                {{course.title}}        
                                            </div>
                                            <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px">
                                                Gestart op {{helper.showLocalDate(course.startdate,'',0)}}
                                            </div>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Ga verder</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>

                            </ion-card>

                        </ion-col>
                    </ng-container>

                </ion-row>
        
                <ion-row  *ngIf="auth.publicCourses?.length && (auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds).length">
                    <ion-col [size]="!media.smallDevice ? 6 : 12" >
                        <ion-card align-left nobackground font-16 noMargin>
                            <ion-card-header>
                                <ion-card-title uppercase weight700>
                                    <span>Interessante modules voor jou</span>
                                </ion-card-title>
                            </ion-card-header>
                        </ion-card>
                    </ion-col>
                </ion-row> 

                <ion-row marginBottom *ngIf="auth.publicCourses?.length">

                    <ng-container *ngIf="!media.smallDevice">
                        <ion-col  [size]="helper.cardSize" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | maxLength : 3">
                        
                            <ion-card noPadding pointer fullheight>
                                <ion-card-content noPadding fullHeight>
                                    <div backgroundImage class="avatarImage" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 275px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>{{course.title}}</ion-card-title>
                                            <ion-card-subtitle font-14 weight400>{{course.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                        </ion-card-header>
                                    </div>
                                    <div center flex center-ver center-hor>
                                
                                        <div class="cardPrice">{{helper.currencyChar('EUR ()')}} {{course.price | number : '1.2-2'}}</div>
                                        <span class="spacer"></span>
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="subscribeCourse(course)">Lees meer</ion-button>
                                    </div>
                                </ion-card-content>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="media.smallDevice">
                        <ion-col  [size]="helper.cardSize" *ngFor="let course of auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds | maxLength : 3">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="subscribeCourse(course)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="course.photo" [ngStyle]="{'background-image': 'url(' + course.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!course.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight700>{{course.title}}</ion-card-title>
                                        <ion-card-subtitle style="text-transform:none;" font-14 weight400>{{course.description | maxLength : 80 : true}}</ion-card-subtitle>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Lees meer</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>

                        </ion-col>
                    </ng-container>

                    <ion-col *ngIf="((auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds).length>0)&&!media.smallDevice">
                        <ion-card style="background:none;" flex fullheight center-ver pointer (click)="nav.go('start/modules')" [ngStyle]="{'justify-content': media.smallDevice ? 'center' : 'initial'}">
                            <fa-icon [icon]="icon.get('faChevronRight')" style="font-size:64px"[ngStyle]="{'transform': media.smallDevice ? 'rotate(90deg)' : 'none'}"></fa-icon>
                        </ion-card>
                    </ion-col>

                    <ion-col *ngIf="((auth.publicCourses | filterKey : '!id' : auth.userInfo.activeCourseIds).length>3)&&media.smallDevice">
                        <ion-card noBackground style="margin-top:10px;" flex fullheight center-ver pointer (click)="nav.go('start/modules')" [ngStyle]="{'justify-content': media.smallDevice ? 'center' : 'initial'}">
                            <span font-16 >Bekijk alles</span>     
                            <fa-icon titleIcon font-16 [icon]="icon.get('faArrowRight')"></fa-icon>
                        </ion-card>
                    </ion-col>

                </ion-row>

                <ion-row *ngIf="activeConversations.length||cases.all?.length">
                    <ion-col [size]="!media.smallDevice ? 6 : 12" >
                        <ion-card align-left nobackground font-16 noMargin>
                            <ion-card-header>
                                <ion-card-title uppercase weight600>
                                    <span>Cases voor jou</span>
                                </ion-card-title>
                            </ion-card-header>
                        </ion-card>
                    </ion-col>
                </ion-row>

                <ion-row marginBottom *ngIf="activeConversations.length||cases.all?.length"> 

                    <ng-container *ngIf="!media.smallDevice">
                        <ion-col [size]="helper.cardSize" *ngFor="let activeConversation of activeConversations">
                            <ion-card pointer fullheight style="border:solid 3px var(--ion-color-primary)">
                                <ion-card-content noPadding>
                                    <fa-icon removeIcon [icon]="icon.get('faTrashAlt')" font-18 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
            
                                    <div backgroundImage class="avatarImage" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div flex center center-ver center-hor style="height:calc(100% - 200px)">
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>
                                                <div class="continueCaseText">
                                                    Ga verder met je gesprek met
                                                </div>
                                                <div>
                                                    {{activeConversation.title}}        
                                                </div>
                                            </ion-card-title>
                                        </ion-card-header>
                                    </div>
                                    <div center flex center-ver center-hor style="margin-top: -10px;">
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="continueConversation(activeConversation)">Ga verder</ion-button>
                                    </div>
                                    <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px;text-align:center">
                                        Gestart op {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                    </div>
                                </ion-card-content>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="media.smallDevice">
                        <ion-col [size]="helper.cardSize" *ngFor="let activeConversation of activeConversations">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px);border:solid 3px var(--ion-color-primary)" (click)="continueConversation(activeConversation)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="activeConversation.photo" [ngStyle]="{'background-image': 'url(' + activeConversation.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!activeConversation.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>
                                            <div class="continueCaseText">
                                                Ga verder met je gesprek met
                                            </div>
                                            <div>
                                                {{activeConversation.title}}        
                                            </div>
                                            <div style="font-size:14px;font-style:italic;font-weight:400;margin-top:10px">
                                                Gestart op {{helper.showLocalDate(activeConversation.timestamp,'',0,true)}}
                                            </div>
                                        </ion-card-title>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <fa-icon titleIcon [icon]="icon.get('faTrashAlt')" font-24 trash (click)="removeActiveConversation($event,activeConversation)"></fa-icon>
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Ga verder</span>
                                        <fa-icon titleIcon font-24 [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="!media.smallDevice">
                        <ion-col [size]="helper.cardSize"  *ngFor="let caseItem of cases.all | filterKey : '!id' : activeConversationsCaseIds | maxLength : (3 - activeConversationsCaseIds.length)">
                            <ion-card noPadding pointer fullheight>
                                <ion-card-content noPadding fullHeight flex flex-column>
                                    <div backgroundImage class="avatarImage" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                    <div backgroundImage class="avatarImage" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <div *ngIf="caseItem.avatarName" class="videoAvatarBadge">Video</div>
                                    <div flex center center-ver center-hor>
                                        <ion-card-header>
                                            <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                            <ion-card-subtitle font-14 weight400>{{caseItem.user_info | maxLength : 60 : true}}</ion-card-subtitle>
                                        </ion-card-header>
                                    </div>
                                    <span class="spacer"></span>
                                    <div center flex center-ver center-hor style="margin-top: -20px;">
                                        <ion-button class="saveButton cardButton" fill="outline" size="small" (click)="startConversation(caseItem)">Start gesprek</ion-button>
                                    </div>
                                    <div style="padding: 5px 20%;">
                                        <app-star-rating style="padding:0;" [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                    </div>
                                </ion-card-content>
                            </ion-card>
                        </ion-col>
                    </ng-container>

                    <ng-container *ngIf="media.smallDevice">
                        <ion-col [size]="12" *ngFor="let caseItem of cases.all | filterKey : '!id' : activeConversationsCaseIds | maxLength : (3 - activeConversationsCaseIds.length)">
                            <ion-card noMargin basicPadding pointer flex align-top style="border-radius:16px;width:calc(100% - 10px)" (click)="startConversation(caseItem)">
                                <div style="width:100px;">
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="caseItem.photo" [ngStyle]="{'background-image': 'url(' + caseItem.photo + ')'}"></div>
                                    <div backgroundImage fullwidth fullheight class="avatarImage avatarSmall" *ngIf="!caseItem.photo" [ngStyle]="{'background-image': 'url(assets/img/default_avatar.png)'}"></div>
                                    <app-star-rating [gridPadding]="0" [readOnlyItem]="true" [fontSize]="20" [rating]="4.3"></app-star-rating>
                                    
                                </div>
                                
                                <div flex flex-column fullwidth style="height: 135px;">
                                    <ion-card-header style="padding:0px 10px;flex-direction:column" >
                                        <ion-card-title font-18 weight600>{{caseItem.title}}</ion-card-title>
                                        <ion-card-subtitle style="text-transform:none" font-14 weight500>{{caseItem.user_info | maxLength : 80 : true}}</ion-card-subtitle>
                                    </ion-card-header>
                                    <span class="spacer"></span>
                                    <div flex center-ver fullwidth class="arrowDiv">
                                        <span class="spacer"></span>
                                        <span font-18 text-secondary weight600 relative style="top:-2px">Start gesprek</span>
                                        <fa-icon font-24 titleIcon [icon]="icon.get('faArrowRight')"></fa-icon>
                                    </div>
                                </div>
                            </ion-card>
                        </ion-col>

                    </ng-container>

                    <ion-col *ngIf="(activeConversations.length + cases.all.length>3)&&!media.smallDevice">
                        <ion-card style="background:none;" flex fullheight center-ver pointer (click)="nav.go('start/cases')" [ngStyle]="{'justify-content': media.smallDevice ? 'center' : 'initial'}">
                            <fa-icon [icon]="icon.get('faChevronRight')" style="font-size:64px"[ngStyle]="{'transform': media.smallDevice ? 'rotate(90deg)' : 'none'}"></fa-icon>
                        </ion-card>
                    </ion-col>

                    <ion-col *ngIf="(activeConversations.length + cases.all.length>3)&&media.smallDevice">
                        <ion-card noBackground style="margin-top:10px;" flex fullheight center-ver pointer (click)="nav.go('start/cases')" [ngStyle]="{'justify-content': media.smallDevice ? 'center' : 'initial'}">
                            <span font-16 >Bekijk alles</span>     
                            <fa-icon titleIcon font-16 [icon]="icon.get('faArrowRight')"></fa-icon>
                        </ion-card>
                    </ion-col>

                </ion-row>

            </ion-col>
        </ion-row> -->


    </ion-grid>
</main>